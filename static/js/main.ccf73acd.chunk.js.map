{"version":3,"sources":["state/PreferencesStore.ts","components/ComponentRef.tsx","state/GraphMutation.ts","state/GraphStore.ts","state/ImportStore.ts","state/ProjectStore.ts","state/SearchStore.ts","state/ClusterStore.ts","state/CssStore.ts","state/GraphDelegate.ts","state/index.ts","components/utils/ClusterChooser.tsx","images/logo.png","components/utils/SimpleSelect.tsx","components/Navbar.tsx","components/utils/Collapsable.tsx","constants/index.ts","components/dialogs/ImportCSVDialog.tsx","components/dialogs/ImportGEXFDialog.tsx","components/dialogs/ExportDialog.tsx","components/utils/DataSheetDialogWrapper.tsx","components/utils/InputFormUtils.ts","components/dialogs/NodeDataSheetDialog.tsx","components/utils/NodeChooser.tsx","components/dialogs/EdgeDataSheetDialog.tsx","components/utils/NodeAdder.tsx","components/dialogs/AddNodeDialog.tsx","components/Dialogs.tsx","components/visualize/visualizer.tsx","components/panels/GlobalPanel.tsx","components/utils/SwitchCollapsable.tsx","components/panels/SelectionPanel.tsx","components/panels/NodesPanel.tsx","components/panels/EdgesPanel.tsx","components/panels/LabelsPanel.tsx","components/panels/NodeDetailPanel.tsx","components/panels/MultiDetailPanel.tsx","components/panels/SearchPanel.tsx","components/panels/RightClickNodePanel.tsx","components/panels/RightClickBackgroundPanel.tsx","components/panels/DeleteEdgeInteractionPanel.tsx","components/FloatingCards.tsx","App.js","reportWebVitals.js","index.js"],"names":["PreferencesStore","rightClickBackgroundPanelOpen","rightClickNodePanelOpen","rightClickPositionX","rightClickPositionY","deleteEdgePanelOpen","preferenceDialogOpen","darkMode","statisticsDialogOpen","helpDialogOpen","neighborDialogOpen","AddNodeDialogOpen","nodeDataSheetDialogOpen","edgeDataSheetDialogOpen","isRenderOptionsCardHidden","view","controlType","makeAutoObservable","this","ComponentRef","nodeDetail","multiNodeDetail","visualizer","_instance","instance","reaction","State","graph","currentlyHoveredId","forceUpdate","GraphMutation","_this","that","node","attributes","rawGraph","addNode","refreshGraph","nodeId","dropNode","source","target","addEdge","edge","dropEdge","GraphStore","Graph","allowSelfLoops","multi","type","mutating","selectedNodes","selectedNode","metadata","snapshotName","nodeProperties","_visualize","id","val","isClusterNode","isClusterLink","_rawGraph","forEachNode","decorateRawNode","forEachEdge","decorateRawEdge","_metadata","decorateRawGraph","flush","cluster","clusterBy","updateVisualizationGraph","order","size","ImportStore","isLoading","edgeFileName","nodeFileName","gexfFileName","importCSVDialogOpen","importSamplesDialogOpen","importGEXFDialogOpen","selectedEdgeFileFromInput","selectedNodeFileFromInput","selectedGEXFFileFromInput","importConfig","hasNodeFile","nodeFile","isReady","parseError","path","hasHeader","topN","columns","mapping","delimiter","edgeFile","fromId","toId","fileObject","file","reader","FileReader","readAsText","Promise","resolve","reject","onload","content","result","replace","parse","comment","trim","auto_parse","skip_empty_lines","undefined","err","Toaster","create","position","Position","TOP","show","message","intent","Intent","DANGER","timeout","gexf","readCSV","config","fromColumn","parseInt","toColumn","tempNodes","readNodeCSV","forEach","toString","readEdgeCSV","hasNode","Object","keys","readGEXF","entries","getNodeAttributes","nodes","key","push","clusterProperties","edgeProperties","edgeFileConfig","fileAsString","lines","split","topLinesAsString","map","l","slice","length","join","console","log","it","onerror","error","action","onClick","window","location","reload","text","nodeFileConfig","ProjectStore","currentSnapshotName","exportDialogOpen","renameSnapshotDialogOpen","SearchStore","isPreviewing","searchStr","observable","ref","list","searchStrIgnoreCase","toLocaleLowerCase","match","searchId","includes","searchQuery","searchAttr","searchValue","hasOwnProperty","ClusterStore","by","keyValueMap","Map","attribute","set","Array","from","Set","keyAttribute","values","attributeKeysMap","getAttributeValues","value","get","colors","randomcolor","seed","count","THREE","x","y","z","CssStore","colorBy","color","scale","to","sizeBy","min","max","labelBy","shape","labelSize","labelLength","edges","clusterForce","nodeResolution","isAnimating","enableDegree","enableDensity","enableDiameter","enableCoefficient","enableComponent","GraphDelegate","graphDelegateMethods","threeScene","nodeVisibility","nodeObject","linkVisibility","lastObject3D","highlightLink","_graphDelegateMethods","scene","newGraph","addInvisibleClusterNode","tempGraph","links","oldGraph","graphCopy","copy","names","index","clusterID","visualize","attributeKeys","remove","convexHullObjects","add","newMap","attributePoints","convexHull","ConvexGeometry","createMesh","distance","getNodeAttribute","distRatio","Math","hypot","cameraPosition","link","_if","_else","_default","graphDelegate","sourceId","targetId","force","d3Force","css","d3ReheatSimulation","geom","name","meshMaterial","attributeColor","transparent","opacity","side","wireFrameMat","wireframe","SceneUtils","createMultiMaterialObject","AppState","preferences","import","search","project","privateConstructor","_state","autorun","renderImportEdgePreview","renderImportNodePreview","resumeAnimation","pauseAnimation","observer","itemRenderer","item","props","handleClick","propertiesWithNone","unshift","items","showNone","fullProperties","filterable","onItemSelect","selected","onSelect","syncWith","React","Component","defaultProps","CommonItemRenderer","className","classnames","Classes","NAVBAR","NAVBAR_GROUP","ALIGN_LEFT","title","src","logo","width","height","alt","NAVBAR_HEADING","icon","BOTTOM","BUTTON","MINIMAL","label","checked","onChange","ALIGN_RIGHT","setCluster","NAVBAR_DIVIDER","disabled","open","elevation","Elevation","LARGE","FILL","rightIcon","isOpen","onToggle","children","NODE_AND_EDGE_FILE","ONLY_EDGE_FILE","PreviewTable","renderWrapper","numRows","selectedRegions","indexOf","rows","cols","cellRenderer","i","state","loading","available","nodesOpen","edgesOpen","canImport","renderNodesSelection","Collapsable","setState","CONTROL_GROUP","INPUT_GROUP","onInputChange","event","files","renderEdgesSelection","newDelimiter","style","minWidth","DARK","onClose","DIALOG_BODY","targetValue","renderDelimiterSelection","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","DISABLED","PRIMARY","importGraphFromCSV","then","res","setGraph","fileIsSelect","importGraphFromGEXF","renderImportButton","ready","write","headers","exportData","export","data","_id","interactive","ONE","minimal","computeGEXFFile","filename","computeNodeFile","separator","computeEdgeFile","loadingOptions","TableLoadingOption","CELLS","COLUMN_HEADERS","ROW_HEADERS","for","onOpened","setTimeout","renderTable","handleStringChange","handler","stringifyNodeDetail","parseNumberOrString","numberVal","Number","isNaN","GraphNodeTable","filterQuery","addNodeDialogOpen","deleteAlertOpen","nodeToDelete","renderColumns","rowIndex","columnIndex","renderCell","filter","element","cell","filteredTable","newVal","setValue","onConfirm","tooltip","setNodeAttribute","deleteNodeRenderer","deleteNodeAlert","cancelButtonText","confirmButtonText","onCancel","textAlign","newTable","asyncControl","leftIcon","placeholder","fill","defaultRowHeight","SUCCESS","select","labelFor","labelInfo","itemPredicate","query","noResults","GraphEdgeTable","addEdgeDialogOpen","edgeToDelete","chosenSource","chosenTarget","deleteEdgeRenderer","deleteEdgeAlert","addEdgeDialog","onClosed","hasEdge","renderMode","RenderMode","NONE","newNodeId","canImportTag","renderAttributesForm","newValue","componentDidMount","prop","autoFocus","rightElement","onAdded","Dialogs","display","visualizationGraph","graphRef","createRef","nodeHover","previousNode","getNodeId","nodeSelect","ctrlKey","shiftKey","splice","graphMethods","refresh","nodeRightClick","backgroundRightClick","renderGraph","graphData","onNodeDragEnd","fx","fy","fz","onBackgroundRightClick","linkWidth","ifHighlightLink","linkColor","linkDirectionalParticles","linkDirectionalParticleWidth","onEngineTick","clusterDelegation","nodeColor","onNodeClick","onNodeRightClick","onBackgroundClick","onNodeHover","current","mountDelegateMethods","timeOutRef","sizeOptionOpen","colorOptionOpen","shapeOptionOpen","CARD","float","interactionKind","PopoverInteractionKind","CLICK","popoverClassName","backgroundImage","marginTop","x1","y1","x2","y2","stopColor","stopOpacity","offset","stepSize","labelStepSize","initialValue","pluralize","labelOptionOpen","RIGHT","getRenderedNodes","thicknessOptionOpen","forceOptionOpen","backgroundColor","hex","updateClusterForce","marginLeft","cellRenderer_property","cellRenderer_value","onNode","formatLongFloat","nodeAttributeValue","num","parseFloat","toPrecision","enableRowHeader","renderSearchResults","candidates","onMouseOver","cameraFocusOn","large","onMouseLeave","makeObservable","stylePosition","computed","top","left","ELEVATION_1","targetNode","neighbors","edgeKey","neighborsRenderer","forEachNeighbor","neighbor","RenderOptionsCard","animate","panel","Expander","optionsVisible","optionsInvisible","sideButtonVis","sideButtonInv","toggleOptions","ELEVATION_2","paddingTop","paddingRight","paddingBottom","NodeDetailPanel","MultiDetailPanel","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ccf73acd.chunk.js","sourcesContent":["import { makeAutoObservable } from \"mobx\";\n\nexport default class PreferencesStore {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    rightClickBackgroundPanelOpen = false;\n    rightClickNodePanelOpen = false;\n    rightClickPositionX = 30;\n    rightClickPositionY = 30;\n\n    deleteEdgePanelOpen = false;\n\n    preferenceDialogOpen = false;\n\n    darkMode = true;\n\n    statisticsDialogOpen = false;\n    helpDialogOpen = false;\n    neighborDialogOpen = false;\n    AddNodeDialogOpen = false;\n\n    nodeDataSheetDialogOpen = false;\n    edgeDataSheetDialogOpen = false;\n\n    isRenderOptionsCardHidden = true;\n\n    view = \"3D\";\n    controlType: \"trackball\" | \"orbit\" | \"fly\" = \"trackball\";\n}\n","import { makeAutoObservable, reaction } from \"mobx\";\nimport State from \"../state\";\n\nclass ComponentRef {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    static _instance: ComponentRef | null = null;\n\n    nodeDetail!: any;\n\n    multiNodeDetail!: any;\n\n    visualizer!: any;\n\n    // add singleton to prevent creating multiple instances of the State class\n    static get instance() {\n        if (ComponentRef._instance === null) {\n            let instance = new ComponentRef();\n            ComponentRef._instance = instance;\n            return instance;\n        } else {\n            return ComponentRef._instance;\n        }\n    }\n}\n\nreaction(\n    () => State.graph.currentlyHoveredId,\n    () => ComponentRef.instance.nodeDetail?.forceUpdate()\n);\n\nexport default ComponentRef.instance;\n","import { Attributes, EdgeKey, NodeKey } from \"graphology-types\";\nimport { makeAutoObservable } from \"mobx\";\nimport GraphStore from \"./GraphStore\";\n\n/**\n * the wrapper mutating function that relates to the mutation of the rawGraph DS\n * all the mutation of the Graph should all go through this API rather than calling on rawGraph directly.\n *\n * @export\n * @class GraphMutation\n */\nexport default class GraphMutation {\n    constructor(_this: GraphStore) {\n        makeAutoObservable(this);\n        this.that = _this;\n    }\n\n    private that!: GraphStore;\n\n    public addNode(node: NodeKey, attributes?: Attributes): void {\n        this.that.rawGraph.addNode(node, attributes);\n        this.that.refreshGraph();\n    }\n\n    public dropNode(nodeId: string): void {\n        this.that.rawGraph.dropNode(nodeId);\n        this.that.refreshGraph();\n    }\n\n    public addEdge(\n        source: NodeKey,\n        target: NodeKey,\n        attributes?: Attributes\n    ): void {\n        this.that.rawGraph.addEdge(source, target, attributes);\n        this.that.refreshGraph();\n    }\n\n    public dropEdge(edge: EdgeKey): void {\n        this.that.rawGraph.dropEdge(edge);\n        this.that.refreshGraph();\n    }\n}\n","import { makeAutoObservable } from \"mobx\";\nimport Graph from \"graphology\";\nimport { Attributes, NodeKey, NodeEntry } from \"graphology-types\";\nimport ComponentRef from \"../components/ComponentRef\";\nimport State from \".\";\nimport GraphMutation from \"./GraphMutation\";\n\nexport interface IMetaData {\n    snapshotName: string;\n\n    // attributes of nodes in imported graph\n    nodeProperties: string[];\n}\n\n/**\n * the class to store a raw graph as well as the related information\n \n * @export\n * @class GraphStore\n */\nexport default class GraphStore {\n    constructor() {\n        makeAutoObservable(this);\n        this.mutating = new GraphMutation(this);\n    }\n\n    /**\n     * the graphology data structure to store a graph.\n     * has a lot of APIs to manipulate as well as iterate through the graph\n     *\n     * @see graphology\n     *\n     * @type {Graph}\n     */\n    rawGraph: Graph = new Graph({\n        allowSelfLoops: true,\n        multi: false,\n        type: \"undirected\",\n    });\n\n    /**\n     * should be called when individual nodes are added to the graph.\n\n     * add the CustomNodeObject to node attributes stored in the data structure\n     * @see CustomNodeObject\n     * name as @code _visualize in attributes\n     *\n     * @param {string} node\n     * @param {Attributes} attributes\n     */\n    decorateRawNode(node: string, attributes: Attributes) {\n        attributes._visualize = {\n            id: node,\n            val: 1, // to be changed, to represent the size of the node\n            isClusterNode: false, // if is clusterNode, then the front-end will ignore this node\n        };\n    }\n\n    /**\n     * should be called when individual edges are added to the graph.\n     *\n     * add the CustomLinkObject to node attributes stored in the data structure\n     * @see CustomLinkObject\n     * name as @code _visualize in attributes\n     *\n     * @param {string} source\n     * @param {string} target\n     * @param {Attributes} attributes\n     */\n    decorateRawEdge(source: string, target: string, attributes: Attributes) {\n        attributes._visualize = {\n            source: source,\n            target: target,\n            isClusterLink: false, // if is clusterLink, then the front-end will ignore this link\n        };\n    }\n\n    /**\n     * should be called on every graph import\n     * add the the _visualize to every links inside the specified graph\n     *\n     * the _visualize is for storing the object to be send to front-end to render the graph\n     *\n     * @param {Graph} _rawGraph\n     * @return {*}  {Graph}\n     */\n    decorateRawGraph(_rawGraph: Graph): Graph {\n        _rawGraph.forEachNode((node, attributes) =>\n            this.decorateRawNode(node, attributes)\n        );\n\n        _rawGraph.forEachEdge((edge, attributes, source, target) =>\n            this.decorateRawEdge(source, target, attributes)\n        );\n        return _rawGraph;\n    }\n\n    /**\n     * proxy method to set the new graph\n     * if intend to set a new graph, please use this method instead of directly modify GraphStore\n     *\n     * @param {Graph} newGraph\n     * @param {IMetaData} metadata\n     */\n    public setGraph(_rawGraph: Graph, _metadata: IMetaData | null = null) {\n        this.rawGraph = this.decorateRawGraph(_rawGraph);\n        if (_metadata) {\n            this.metadata = _metadata;\n        }\n        this.flush();\n        State.cluster.clusterBy = null;\n        ComponentRef.visualizer.updateVisualizationGraph();\n    }\n\n    /**\n     * should be called when the graph gets updated (the data inside the graph gets updated, or the attribute to be clustered has changed)\n     *\n     * @memberof GraphStore\n     */\n    public refreshGraph() {\n        this.flush();\n        ComponentRef.visualizer.updateVisualizationGraph();\n    }\n\n    /**\n     * the wrapper methods to mutate the graph\n     * all the mutations of the graph should go through this API rather than calling this.rawGraph.[mutate]\n     *\n     * has basic functions like addNode, dropNode, addEdge, dropEdge...\n     *\n     * @see {GraphMutation}\n     */\n    mutating: GraphMutation;\n\n    /**\n     * the currently selected node ids\n     * the singleNodeDetailPanel will render and refresh if this changes\n     *\n     * @type {string[]}\n     */\n    selectedNodes: string[] = [];\n\n    /**\n     * the currently selected node id\n     *\n     * @type {string}\n     */\n    selectedNode: string | null = null;\n\n    /**\n     * the currently hovered node id\n     * the multiNodeDetailPanel will render and refresh if this changes\n     *\n     * @type {string}\n     */\n    currentlyHoveredId: string | null = null;\n\n    /**\n     * should call this on every refresh of graph DS\n     *\n     */\n    flush() {\n        this.selectedNodes = [];\n        this.selectedNode = null;\n        this.currentlyHoveredId = null;\n    }\n\n    /**\n     * if currently there is a graph in the dataset\n     *\n     * @readonly\n     */\n    get hasGraph() {\n        return this.rawGraph.order && this.rawGraph.size !== 0;\n    }\n\n    /**\n     * the metadata related to the raw graph\n     * should be updated if a new graph is imported\n     *\n     */\n    metadata: IMetaData = {\n        snapshotName: \"SNAPSHOT\",\n        nodeProperties: [],\n    };\n}\n","import { Intent, Position, Toaster } from \"@blueprintjs/core\";\nimport { makeAutoObservable } from \"mobx\";\nimport Graph from \"graphology\";\nimport gexf from \"graphology-gexf\";\nimport parse from \"csv-parse/lib/sync\";\n\nexport interface INodeFileConfig {\n    // the file is successfully parsed and ready for display\n    isReady: boolean;\n    parseError: boolean;\n    path: string;\n\n    // has header at the top\n    hasHeader: boolean;\n\n    // Get top 20 lines. Or if there's less than 10 line, get all the lines.\n    topN: any[];\n    //names for the columns of this csv\n    columns: string[];\n    mapping: {\n        id: string;\n    };\n    delimiter: string;\n}\n\nexport interface IEdgeFileConfig {\n    isReady: boolean;\n    parseError: boolean;\n\n    // should save the csv to temp for further change the cluster attribute\n    path: string;\n    hasHeader: boolean;\n\n    // array of objects storing the\n    topN: any[];\n    columns: string[];\n    mapping: {\n        fromId: string;\n        toId: string;\n    };\n    delimiter: string;\n}\n\nexport default class ImportStore {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    // whether the graph is in importing\n    isLoading = false;\n    //name of the edge file\n    edgeFileName = \"Choose Edge File ...\";\n\n    //name of the node file\n    nodeFileName = \"Choose Node File ...\";\n\n    //name of the GEXF file\n    gexfFileName = \"Choose GEXF File ...\";\n\n    importCSVDialogOpen = false;\n    importSamplesDialogOpen = false;\n    importGEXFDialogOpen = false;\n\n    // specific: File object selected via the file input.\n    selectedEdgeFileFromInput!: File;\n    selectedNodeFileFromInput!: File;\n\n    selectedGEXFFileFromInput!: File;\n\n    importConfig = {\n        hasNodeFile: false,\n        nodeFile: {\n            // the file is successfully parsed and ready for display\n            isReady: false,\n            parseError: false,\n            path: \"\",\n\n            // has header at the top\n            hasHeader: true,\n\n            // Get top 20 lines. Or if there's less than 10 line, get all the lines.\n            topN: [],\n            //names for the columns of this csv\n            columns: [],\n            mapping: {\n                id: \"Unknown\",\n            },\n            delimiter: \",\",\n        } as INodeFileConfig,\n        edgeFile: {\n            isReady: false,\n            parseError: false,\n\n            // should save the csv to temp for further change the cluster attribute\n            path: \"\",\n            hasHeader: true,\n\n            // array of objects storing the\n            topN: [],\n            columns: [],\n            mapping: {\n                fromId: \"Unknown\",\n                toId: \"Unknown\",\n            },\n            delimiter: \",\",\n        } as IEdgeFileConfig,\n    };\n\n    /**\n     * read the CSV file specified by fileObject, with options defined by other paras\n     * and return a list of objects containing the key-value pair of attribute-value\n     *\n     * @param {File} fileObject\n     * @param {boolean} hasHeader\n     * @param {string} delimiter\n     * @return {*}  {Promise<Object[]>}\n     * where Object is of { attribute: number | string, anotherAttribute: number | string, ... } type\n     */\n    private async readCSV(\n        fileObject: File,\n        hasHeader: boolean,\n        delimiter: string\n    ): Promise<any[]> {\n        const file = fileObject;\n        const reader = new FileReader();\n        reader.readAsText(file);\n        return new Promise((resolve, reject) => {\n            reader.onload = () => {\n                let content: any = reader.result;\n                content = content.replace(/\\r\\n/g, \"\\n\");\n                content = content.replace(/\\r/g, \"\\n\");\n                try {\n                    if (hasHeader) {\n                        resolve(\n                            parse(content, {\n                                comment: \"#\",\n                                trim: true,\n                                auto_parse: true,\n                                skip_empty_lines: true,\n                                columns: hasHeader,\n                                delimiter,\n                            })\n                        );\n                    }\n                    resolve(\n                        parse(content, {\n                            comment: \"#\",\n                            trim: true,\n                            auto_parse: true,\n                            skip_empty_lines: true,\n                            columns: undefined,\n                            delimiter,\n                        })\n                    );\n                } catch (err) {\n                    Toaster.create({\n                        position: Position.TOP,\n                    }).show({\n                        message: \"Error: \" + err.message,\n                        intent: Intent.DANGER,\n                        timeout: -1,\n                    });\n                }\n            };\n        });\n    }\n\n    /**\n     * parse the graph from import GEXF file specified in selectedGEXFFileFromInput\n     * and return a Graph object\n     *\n     * @private\n     * @return {*}  {Promise<Graph>}\n     */\n    private async readGEXF(): Promise<Graph> {\n        const file = this.selectedGEXFFileFromInput;\n        const reader = new FileReader();\n        reader.readAsText(file);\n        return new Promise((resolve, reject) => {\n            reader.onload = () => {\n                try {\n                    resolve(gexf.parse(Graph, reader.result as string));\n                } catch (err) {\n                    Toaster.create({\n                        position: Position.TOP,\n                    }).show({\n                        message: \"Error: \" + err.message,\n                        intent: Intent.DANGER,\n                        timeout: -1,\n                    });\n                }\n            };\n        });\n    }\n\n    public readEdgeCSV(): Promise<any[]> {\n        return this.readCSV(\n            this.selectedEdgeFileFromInput,\n            this.importConfig.edgeFile.hasHeader,\n            this.importConfig.edgeFile.delimiter\n        );\n    }\n\n    public readNodeCSV(): Promise<any[]> {\n        return this.readCSV(\n            this.selectedNodeFileFromInput,\n            this.importConfig.nodeFile.hasHeader,\n            this.importConfig.nodeFile.delimiter\n        );\n    }\n\n    /**\n     * will create a Graph structure to store the nodes and edges in the imported File\n     * should handle whether or not have the NodeFile, whether or not have the header of each file\n     * if successfully imported, change the .isReady to be true\n     *\n     * @return {*}\n     */\n    public async importGraphFromCSV() {\n        const config = this.importConfig;\n\n        // the CSV lib we use uses int index when there's not header/column names specified\n        const fromColumn = config.edgeFile.hasHeader\n            ? config.edgeFile.mapping.fromId\n            : parseInt(config.edgeFile.mapping.fromId);\n        const toColumn = config.edgeFile.hasHeader\n            ? config.edgeFile.mapping.toId\n            : parseInt(config.edgeFile.mapping.toId);\n\n        let tempNodes: any[] = [];\n        let tempEdges: any[] = [];\n\n        const graph = new Graph({\n            allowSelfLoops: true,\n            multi: true,\n            type: \"undirected\",\n        });\n\n        // parse Node file and store into the Graph DS\n        if (config.hasNodeFile) {\n            tempNodes = await this.readNodeCSV();\n            tempNodes.forEach((node) => {\n                let nodeId = node[config.nodeFile.mapping.id].toString();\n                delete node[config.nodeFile.mapping.id];\n                graph.addNode(nodeId, node);\n            });\n        }\n\n        // parse Edge file and store into the Graph DS\n        tempEdges = await this.readEdgeCSV();\n        tempEdges.forEach((edge) => {\n            let fromId = edge[fromColumn].toString();\n            let toId = edge[toColumn].toString();\n\n            if (!graph.hasNode(fromId)) {\n                graph.addNode(fromId, { id: fromId });\n            }\n            if (!graph.hasNode(toId)) {\n                graph.addNode(toId, { id: toId });\n            }\n            graph.addEdge(fromId, toId);\n        });\n\n        config.edgeFile.isReady = true;\n\n        let nodeProperties = config.hasNodeFile\n            ? Object.keys(tempNodes[0])\n            : [\"id\"];\n\n        return {\n            graph: graph,\n            metadata: {\n                snapshotName: \"Untitled\",\n                nodeProperties: nodeProperties,\n            },\n        };\n    }\n\n    //TODO:import 里的id和cluster， source target还没设置\n    public async importGraphFromGEXF() {\n        let graph = await this.readGEXF();\n        let nodeProperties: string[] = [];\n\n        for (const [key] of Object.entries(\n            graph.getNodeAttributes(graph.nodes()[0])\n        )) {\n            nodeProperties.push(key);\n        }\n\n        return {\n            graph: graph,\n            metadata: {\n                snapshotName: \"Untitled\",\n                nodeProperties: nodeProperties,\n                clusterProperties: null,\n                edgeProperties: [\"source_id\", \"target_id\"],\n            },\n        };\n    }\n\n    /**\n     * change the importConfig.edgeFile.topN to be the top 10 parsed elements in the input edge file\n     * change the importConfig.edgeFile.columns to be the attributes of the imported edge file\n     * set the .mapping.fromId and .mapping.toId to be the first and second (if have) attribute of the input edge file.\n     *\n     * if successfully parsed, set the .isReady to be true, else set the.parseError\n     *\n     * This function will autorun if user specify the selectedEdgeFileFromInput and the changes that this function will make is to get ready for the rendering of preview Table in the ImportDialog\n     *\n     * @return {*}\n     */\n    public async renderImportEdgePreview() {\n        let file = this.selectedEdgeFileFromInput;\n        let edgeFileConfig = this.importConfig.edgeFile;\n        let hasHeader = edgeFileConfig.hasHeader;\n        let delimiter = edgeFileConfig.delimiter;\n\n        edgeFileConfig.parseError = false;\n\n        return new Promise<void>((resolve, reject): void => {\n            if (!file) {\n                return;\n            }\n            const reader = new FileReader();\n            reader.readAsText(file);\n\n            reader.onload = () => {\n                // Read entire CSV into memory as string\n                let fileAsString = reader.result as string;\n\n                // if the file is not regularly formatted, replace the EOL character\n                fileAsString = fileAsString.replace(/\\r\\n/g, \"\\n\");\n                fileAsString = fileAsString.replace(/\\r/g, \"\\n\");\n\n                // Get top 10ß lines. Or if there's less than 10 line, get all the lines.\n                const lines = fileAsString.split(\"\\n\");\n                const topLinesAsString = lines\n                    .map((l) => l.trim())\n                    .slice(0, lines.length < 10 ? lines.length : 10)\n                    .join(\"\\n\");\n                console.log(topLinesAsString);\n\n                // Parse the top lines\n                try {\n                    const it = hasHeader\n                        ? parse(topLinesAsString, {\n                              comment: \"#\",\n                              trim: true,\n                              auto_parse: true,\n                              skip_empty_lines: true,\n                              columns: hasHeader,\n                              delimiter: delimiter,\n                          })\n                        : parse(topLinesAsString, {\n                              comment: \"#\",\n                              trim: true,\n                              auto_parse: true,\n                              skip_empty_lines: true,\n                              columns: undefined,\n                              delimiter: delimiter,\n                          });\n                    edgeFileConfig.topN = it;\n                    edgeFileConfig.columns = Object.keys(it[0]).map(\n                        (key) => `${key}`\n                    );\n\n                    // if there exists two or more columns in the parsed edge file\n                    if (edgeFileConfig.columns.length >= 2) {\n                        edgeFileConfig.mapping.fromId =\n                            edgeFileConfig.columns[0];\n                        edgeFileConfig.mapping.toId = edgeFileConfig.columns[1];\n                        edgeFileConfig.isReady = true;\n                    } else if (edgeFileConfig.columns.length === 1) {\n                        edgeFileConfig.mapping.fromId = edgeFileConfig.mapping.toId =\n                            edgeFileConfig.columns[0];\n                        edgeFileConfig.isReady = true;\n                    } else {\n                        Toaster.create({\n                            position: Position.TOP,\n                        }).show({\n                            message: \"Error: Fails to parse file\",\n                            intent: Intent.DANGER,\n                            timeout: -1,\n                        });\n                        edgeFileConfig.parseError = true;\n                    }\n                    resolve();\n                } catch {\n                    Toaster.create({\n                        position: Position.TOP,\n                    }).show({\n                        message: \"Error: Fails to parse file\",\n                        intent: Intent.DANGER,\n                        timeout: -1,\n                    });\n                    edgeFileConfig.parseError = true;\n                    reject();\n                }\n            };\n\n            reader.onerror = () => {\n                console.error(reader.error);\n                Toaster.create({\n                    position: Position.TOP,\n                }).show({\n                    action: {\n                        onClick: () => window.location.reload(),\n                        text: \"Refresh Page\",\n                    },\n                    message: \"Error: Fails to open file\",\n                    intent: Intent.DANGER,\n                    timeout: -1,\n                });\n                reject();\n            };\n        });\n    }\n\n    /**\n     * change the importConfig.nodeFile.topN to be the top 10 parsed elements in the input node file\n     * change the importConfig.nodeFile.columns to be the attributes of the imported node file\n     * set the .mapping.id .mapping.cluster to be the first and second (if have) attribute of the input edge file.\n     *\n     * if successfully parsed, set the .isReady to be true, else set the.parseError\n     *\n     * This function will autorun if user specify the selectedNodeFileFromInput and the changes that this function will make is to get ready for the rendering of preview Table in the ImportDialog\n     *\n     * @return {*}\n     */\n    public async renderImportNodePreview() {\n        let file = this.selectedNodeFileFromInput;\n        let nodeFileConfig = this.importConfig.nodeFile;\n        let hasHeader = nodeFileConfig.hasHeader;\n        let delimiter = nodeFileConfig.delimiter;\n\n        nodeFileConfig.parseError = false;\n\n        return new Promise<void>((resolve, reject): void => {\n            if (!file) {\n                return;\n            }\n            const reader = new FileReader();\n            reader.readAsText(file);\n\n            reader.onload = () => {\n                // Read entire CSV into memory as string\n                let fileAsString = reader.result as string;\n\n                // if the file is not regularly formatted, replace the EOL character\n                fileAsString = fileAsString.replace(/\\r\\n/g, \"\\n\");\n                fileAsString = fileAsString.replace(/\\r/g, \"\\n\");\n\n                // Get top 10 lines. Or if there's less than 10 line, get all the lines.\n                const lines = fileAsString.split(\"\\n\");\n                const topLinesAsString = lines\n                    .map((l) => l.trim())\n                    .slice(0, lines.length < 10 ? lines.length : 10)\n                    .join(\"\\n\");\n                console.log(topLinesAsString);\n\n                // Parse the top lines\n                try {\n                    const it = hasHeader\n                        ? parse(topLinesAsString, {\n                              comment: \"#\",\n                              trim: true,\n                              auto_parse: true,\n                              skip_empty_lines: true,\n                              columns: hasHeader,\n                              delimiter,\n                          })\n                        : parse(topLinesAsString, {\n                              comment: \"#\",\n                              trim: true,\n                              auto_parse: true,\n                              skip_empty_lines: true,\n                              columns: undefined,\n                              delimiter,\n                          });\n                    nodeFileConfig.topN = it;\n                    nodeFileConfig.columns = Object.keys(it[0]).map(\n                        (key) => `${key}`\n                    );\n\n                    // if there exists two or more columns in the parsed edge file\n                    if (nodeFileConfig.columns.length >= 1) {\n                        nodeFileConfig.mapping.id = nodeFileConfig.columns[0];\n                        nodeFileConfig.isReady = true;\n                    } else {\n                        Toaster.create({\n                            position: Position.TOP,\n                        }).show({\n                            message: \"Error: Fails to parse file\",\n                            intent: Intent.DANGER,\n                            timeout: -1,\n                        });\n                        nodeFileConfig.parseError = true;\n                    }\n                    resolve();\n                } catch {\n                    Toaster.create({\n                        position: Position.TOP,\n                    }).show({\n                        message: \"Error: Fails to parse file\",\n                        intent: Intent.DANGER,\n                        timeout: -1,\n                    });\n                    nodeFileConfig.parseError = true;\n                    reject();\n                }\n            };\n\n            reader.onerror = () => {\n                console.error(reader.error);\n                Toaster.create({\n                    position: Position.TOP,\n                }).show({\n                    action: {\n                        onClick: () => window.location.reload(),\n                        text: \"Refresh Page\",\n                    },\n                    message: \"Error: Fails to open file\",\n                    intent: Intent.DANGER,\n                    timeout: -1,\n                });\n                reject();\n            };\n        });\n    }\n}\n","import { makeAutoObservable } from \"mobx\";\n\nexport default class ProjectStore {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    currentSnapshotName = \"Untitled\";\n\n    exportDialogOpen = false;\n    renameSnapshotDialogOpen = false;\n}\n","import Graph from \"graphology\";\nimport { makeAutoObservable, observable } from \"mobx\";\n\nexport default class SearchStore {\n    constructor() {\n        makeAutoObservable(this, {\n            rawGraph: observable.ref,\n        });\n    }\n\n    // if is previewing, ignore all mouse hovers detected by NodeDetailPanel because it is showing the detail of selected node\n    isPreviewing = false;\n\n    // can use defined regex\n    // id:123\n    // attr:color:red\n    searchStr = \"\";\n\n    /**\n     * @observable .ref\n     * the reference bounded to the GraphStore/rawGraph\n     *\n     * @type {Graph}\n     * @memberof ClusterStore\n     */\n    rawGraph!: Graph;\n\n    // contains node ids\n    get candidates(): string[] {\n        let list: string[] = [];\n        let searchStrIgnoreCase = this.searchStr.toLocaleLowerCase();\n        if (searchStrIgnoreCase.match(/^id:.+/g)) {\n            const searchId = searchStrIgnoreCase.split(/^id:/g)[1].trim();\n            this.rawGraph.forEachNode((node) => {\n                if (node.toLocaleLowerCase().includes(searchId)) {\n                    list.push(node);\n                }\n            });\n        } else if (searchStrIgnoreCase.match(/^attr:.+:.+/g)) {\n            let searchQuery = searchStrIgnoreCase\n                .split(/^attr:/g)[1]\n                .trim()\n                .split(/:/g);\n            const searchAttr = searchQuery[0].trim();\n            const searchValue = searchQuery[1].trim();\n            this.rawGraph.forEachNode((node, attributes) => {\n                if (\n                    attributes.hasOwnProperty(searchAttr) &&\n                    (attributes[searchAttr] as string)\n                        .toLocaleLowerCase()\n                        .includes(searchValue)\n                ) {\n                    list.push(node);\n                }\n            });\n        } else if (this.searchStr === \"\") {\n        } else {\n            this.rawGraph.forEachNode((node) => {\n                if (node.toLocaleLowerCase().includes(this.searchStr)) {\n                    list.push(node);\n                }\n            });\n        }\n\n        return list;\n    }\n}\n","import { makeAutoObservable, observable } from \"mobx\";\nimport Graph from \"graphology\";\nimport * as THREE from \"three\";\nimport randomcolor from \"randomcolor\";\nimport State from \".\";\n\n/**\n * all the computed values get from the rawGraph\n *\n * @export\n * @class ClusterStore\n */\nexport default class ClusterStore {\n    constructor() {\n        makeAutoObservable(this, {\n            rawGraph: observable.ref,\n        });\n    }\n    /**\n     * @observable\n     *\n     * attention: please use setCluster() to alter this data\n     * Specify which attribute to be clustered\n     * the default value should be null, and front-end graph will interpret this to Not-Cluster\n     *\n     *\n     */\n    clusterBy: string | null = null;\n\n    /**\n     * the setter of clusterBy\n     * will update the front-end 3d graph about the cluster changes\n     *\n     * @param {(string | null)} by\n     */\n    setCluster(by: string | null) {\n        this.clusterBy = by;\n        State.graph.refreshGraph();\n    }\n\n    /**\n     * @observable .ref\n     * the reference bounded to the GraphStore/rawGraph\n     *\n     * @type {Graph}\n     */\n    rawGraph!: Graph;\n\n    /**\n     * @computed\n     * a auto computed map\n     * will auto-update if $rawGraph or $clusterBy is changed\n     * [the id of a Node -> the value of the attribute specified by $clusterBy]\n     *\n     * @readonly\n     * @type {(Map<string, string | number>)}\n     */\n    get keyAttribute(): Map<string, string | number> {\n        const keyValueMap = new Map<string, string | number>();\n        if (this.clusterBy === null) {\n            return keyValueMap;\n        }\n        const attribute = this.clusterBy as string;\n\n        this.rawGraph?.forEachNode((key, attributes) => {\n            // if this attribute is defined\n            if (attributes.hasOwnProperty(attribute)) {\n                keyValueMap.set(key, attributes[attribute]);\n            } else {\n                // this attribute is undefined in this node\n                keyValueMap.set(key, \"undefined\");\n            }\n        });\n        return keyValueMap;\n    }\n\n    /**\n     * the possible attribute values of the attribute defined by $clusterBy\n     *\n     * @readonly\n     * @type {((string | number)[])}\n     */\n    get getAttributeValues(): (string | number)[] {\n        return Array.from(new Set(this.keyAttribute.values()));\n    }\n\n    /**\n     * @computed\n     * a auto computed map\n     * will auto-update if $rawGraph or $clusterBy is changed\n     * [the possible values of the attribute specified by $clusterBy -> a list of Node ids]\n     *\n     * @readonly\n     * @type {(Map<string | number, string[]>)}\n     */\n    get attributeKeys(): Map<string | number, string[]> {\n        const attributeKeysMap = new Map<string | number, string[]>();\n        this.getAttributeValues.forEach((value) => {\n            attributeKeysMap.set(value, []);\n        });\n        this.keyAttribute.forEach((value, key) => {\n            attributeKeysMap.get(value)?.push(key);\n        });\n        return attributeKeysMap;\n    }\n\n    /**\n     * @computed\n     * a auto computed map\n     * will auto-update if $rawGraph or $clusterBy is changed\n     * [the possible values of the attribute specified by $clusterBy -> the random colour of this cluster]\n     * used to avoid re-compute the colours on every frame refresh\n     *\n     * @readonly\n     * @type {(Map<string | number, string>)}\n     */\n    get attributeColor(): Map<string | number, string> {\n        let colors = randomcolor({\n            seed: 1,\n            count: this.getAttributeValues.length,\n        });\n        let position = 0;\n        let map = new Map<string | number, string>();\n        this.getAttributeValues.forEach((attribute) => {\n            map.set(attribute, colors[position++]);\n        });\n        return map;\n    }\n\n    /**\n     * @computed\n     * a auto computed map\n     * will auto-update if $rawGraph or $clusterBy is changed\n     * [the possible values of the attribute specified by $clusterBy -> the Nodes points in that cluster]\n     * will change on every frame refresh as the Node's position keeps changing.\n     *\n     * @readonly\n     * @type {(Map<string | number, THREE.Vector3[]>)}\n     */\n    get attributePoints(): Map<string | number, THREE.Vector3[]> {\n        let map = new Map<string | number, THREE.Vector3[]>();\n        this.getAttributeValues.forEach((attribute) => {\n            let vectorList: THREE.Vector3[] = [];\n            map.set(attribute, vectorList);\n        });\n        this.rawGraph.forEachNode((key, attributes) => {\n            map.get(this.keyAttribute.get(key) as string | number)?.push(\n                new THREE.Vector3(\n                    attributes._visualize.x,\n                    attributes._visualize.y,\n                    attributes._visualize.z\n                )\n            );\n        });\n        return map;\n    }\n}\n","import { autorun, makeAutoObservable } from \"mobx\";\nimport State from \".\";\n\n/**\n * the configurations to set to cascade the graph\n *\n * @export\n * @class CssStore\n */\nexport default class CssStore {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    config = {\n        nodes: {\n            colorBy: \"pagerank\",\n            color: {\n                scale: \"Linear Scale\",\n                from: \"#448AFF\",\n                to: \"#E91E63\",\n            },\n            sizeBy: \"pagerank\",\n            size: {\n                min: 2,\n                max: 10,\n                scale: \"Linear Scale\",\n            },\n            labelBy: \"node_id\",\n            shape: \"circle\",\n            labelSize: 1,\n            labelLength: 10,\n        },\n        edges: {\n            color: \"#7f7f7f\",\n        },\n    };\n\n    clusterForce: number = 20;\n\n    nodeResolution: number = 12;\n\n    isAnimating: boolean = true;\n\n    enableDegree = true;\n    enableDensity = true;\n    enableDiameter = false;\n    enableCoefficient = true;\n    enableComponent = true;\n}\n","import { makeAutoObservable, observable } from \"mobx\";\nimport Graph from \"graphology\";\nimport State from \".\";\nimport {\n    ForceGraphMethods,\n    LinkObject,\n    NodeObject,\n} from \"react-force-graph-3d\";\nimport { ConvexGeometry } from \"three/examples/jsm/geometries/ConvexGeometry\";\nimport { SceneUtils } from \"three/examples/jsm/utils/SceneUtils.js\";\nimport * as THREE from \"three\";\nimport ForceGraph3D from \"3d-force-graph\";\n\nexport interface CustomNodeObject extends NodeObject {\n    val?: number;\n    isClusterNode?: boolean;\n}\n\nexport interface CustomLinkObject extends LinkObject {\n    isClusterLink?: boolean;\n}\n\nexport default class GraphDelegate {\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    /**\n     * assign the force-graph methods to this class\n     * should be called as long as the visualizer react component is mounted\n     *\n     * @param {ForceGraphMethods} _graphDelegateMethods\n     */\n    mountDelegateMethods(_graphDelegateMethods: ForceGraphMethods) {\n        this.graphDelegateMethods = _graphDelegateMethods;\n        this.threeScene = this.graphDelegateMethods.scene();\n    }\n\n    /**\n     * the ForceGraphMethods exposed by the visualization force-graph\n     *\n     * @see ForceGraphMethods\n     *\n     * @type {ForceGraphMethods}\n     */\n    graphDelegateMethods!: ForceGraphMethods;\n\n    /**\n     * the THREE.js WebGL Scene of the visualization\n     *\n     * @type {THREE.Scene}\n     */\n    threeScene!: THREE.Scene;\n\n    /**\n     * compute the delegate graph that will be used by the ForceGraph3D\n     * will add invisible cluster nodes and edges to balance the clustered graph and adjust force\n     * the NodeObject and LinkObject inside attributes (named _visualize) will be used.\n     *\n     * nodes and edges with the show=false will be ignored in this case\n     *\n     */\n\n    visualizationGraph() {\n        let newGraph: Graph;\n        if (State.cluster.clusterBy === null) {\n            newGraph = State.graph.rawGraph;\n        } else {\n            newGraph = this.addInvisibleClusterNode(\n                State.graph.decorateRawGraph(State.graph.rawGraph)\n            );\n        }\n        let tempGraph = {\n            nodes: [] as CustomNodeObject[],\n            links: [] as LinkObject[],\n        };\n        newGraph.forEachNode((node, attributes) => {\n            tempGraph.nodes.push(attributes[\"_visualize\"]);\n        });\n\n        newGraph.forEachEdge((edge, attributes) => {\n            tempGraph.links.push(attributes[\"_visualize\"]);\n        });\n        return tempGraph;\n    }\n\n    /**\n     * return a new graph that contains the invisible clusters, formed as nodes\n     * as well as the edges that connected to the cluster node to simulate the force within the same cluster\n     * the new graph is a deep copy of the old node, so no worries of the original graph DS\n     *\n     * @private\n     * @param {Graph} oldGraph\n     * @returns {*}  {Graph}\n     */\n    private addInvisibleClusterNode(oldGraph: Graph): Graph {\n        let graphCopy = oldGraph.copy();\n        let names = [\n            \"_CLUSTER_1_\",\n            \"_CLUSTER_2_\",\n            \"_CLUSTER_3_\",\n            \"_CLUSTER_4_\",\n            \"_CLUSTER_5_\",\n            \"_CLUSTER_6_\",\n            \"_CLUSTER_7_\",\n            \"_CLUSTER_8_\",\n            \"_CLUSTER_9_\",\n            \"_CLUSTER_10_\",\n        ];\n        for (let index = 0; index < names.length; index++) {\n            State.cluster.getAttributeValues.forEach(\n                (attribute: string | number) => {\n                    // if a node does not belong to any cluster, a undefined will be formed with no cluster to generate\n                    if (attribute === \"undefined\") return;\n\n                    let clusterID = names[index] + attribute;\n                    let visualize: CustomNodeObject = {\n                        id: clusterID,\n                        val: 1,\n                        isClusterNode: true,\n                    };\n                    graphCopy.addNode(clusterID, { _visualize: visualize });\n\n                    // add edges to simulate the force of the same cluster\n                    State.cluster.attributeKeys\n                        .get(attribute)\n                        ?.forEach((target) => {\n                            let visualize: CustomLinkObject = {\n                                source: clusterID,\n                                target: target,\n                                isClusterLink: true, // if is clusterLink, then the front-end will ignore this link\n                            };\n                            graphCopy.addEdge(clusterID, target, {\n                                _visualize: visualize,\n                            });\n                        });\n                }\n            );\n        }\n\n        return graphCopy;\n    }\n\n    /**\n     * determine whether this Node is the cluster delegate node\n     *\n     * @param {CustomNodeObject} nodeObject\n     */\n    nodeVisibility = (nodeObject: CustomNodeObject) => {\n        return !nodeObject.isClusterNode;\n    };\n\n    /**\n     * determine whether this edge is the cluster delegate edge\n     *\n     * @param {CustomLinkObject} nodeObject\n     */\n    linkVisibility = (nodeObject: CustomLinkObject) => {\n        return !nodeObject.isClusterLink;\n    };\n\n    /**\n     * all the clusters will form a 3D object to be imported into Scene\n     * and this indicates the formed 3d object in the last refresh\n     *\n     * @type {THREE.Object3D}\n     */\n    lastObject3D!: THREE.Object3D;\n\n    /**\n     * add the computed clusters 3d object to the Scene\n     * always keep the Scene with only 1 cluster object by first deleting the last one then add\n     *\n     */\n    clusterDelegation() {\n        this.threeScene.remove(this.lastObject3D);\n        if (State.cluster.clusterBy === null) {\n            return;\n        }\n        this.lastObject3D = new THREE.Object3D();\n        this.convexHullObjects.forEach((value, key) => {\n            this.lastObject3D.add(value);\n        });\n        this.threeScene.add(this.lastObject3D);\n    }\n\n    /**\n     * the map between the value of the cluster and the 3d object that this cluster created\n     *\n     * @readonly\n     * @type {(Map<string | number, THREE.Object3D>)}\n     */\n    get convexHullObjects(): Map<string | number, THREE.Object3D> {\n        let newMap = new Map<string | number, THREE.Object3D>();\n        State.cluster.attributePoints.forEach((value, key) => {\n            if (value.length < 4) {\n                newMap.set(key, new THREE.Object3D());\n            } else {\n                let convexHull = new ConvexGeometry(Array.from(value));\n                newMap.set(key, GraphDelegate.createMesh(convexHull, key));\n            }\n        });\n        return newMap;\n    }\n\n    private static createMesh(\n        geom: ConvexGeometry,\n        name: string | number\n    ): THREE.Object3D {\n        // 实例化一个绿色的半透明的材质\n        const meshMaterial = new THREE.MeshBasicMaterial({\n            color: State.cluster.attributeColor.get(name),\n            transparent: true,\n            opacity: 0.2,\n        });\n        meshMaterial.side = THREE.DoubleSide; //将材质设置成正面反面都可见\n        const wireFrameMat = new THREE.MeshBasicMaterial();\n        wireFrameMat.wireframe = true; //把材质渲染成线框\n\n        // 将两种材质都赋给几何体\n        return SceneUtils.createMultiMaterialObject(geom, [\n            meshMaterial,\n            wireFrameMat,\n        ]);\n    }\n\n    ////\n\n    /**\n     * this will re-position the camera to focus on the specified node\n     * if distance not specified, a default of 40 will be used\n     *\n     * @param {string} nodeId the node to be focused\n     * @param {number} [distance=40] the ending distance between the camera and the node\n     * @returns {*}\n     */\n    cameraFocusOn(nodeId: string, distance: number = 40) {\n        let node = State.graph.rawGraph.getNodeAttribute(nodeId, \"_visualize\");\n        if (!(node.x && node.y && node.z)) return;\n        // Aim at node from outside it\n        const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);\n\n        this.graphDelegateMethods.cameraPosition(\n            {\n                x: node.x * distRatio,\n                y: node.y * distRatio,\n                z: node.z * distRatio,\n            }, // new position\n            { x: node.x, y: node.y, z: node.z }, // lookAt ({ x, y, z })\n            3000 // ms transition duration\n        );\n    }\n\n    /**\n     * which link to be highlighted\n     *\n     * @type {(LinkObject | null)}\n     */\n    highlightLink: LinkObject | null = null;\n\n    ifHighlightLink<T>(link: LinkObject, _if: T, _else: T, _default: T): T {\n        if (State.graphDelegate.highlightLink == null) {\n            return _default;\n        }\n        let sourceId = (link.source as NodeObject).id as string;\n        let targetId = (link.target as NodeObject).id as string;\n\n        if (\n            (sourceId ===\n                (State.graphDelegate.highlightLink?.source as string) &&\n                targetId ===\n                    (State.graphDelegate.highlightLink?.target as string)) ||\n            (sourceId ===\n                (State.graphDelegate.highlightLink?.target as string) &&\n                targetId ===\n                    (State.graphDelegate.highlightLink?.source as string))\n        ) {\n            return _if;\n        } else {\n            return _else;\n        }\n    }\n\n    ////\n\n    updateClusterForce(force: number, _default: number) {\n        this.graphDelegateMethods\n            ?.d3Force(\"link\")\n            //@ts-ignore\n            ?.distance((link: CustomLinkObject) => {\n                return link.isClusterLink ? State.css.clusterForce : _default;\n            });\n        this.graphDelegateMethods.d3ReheatSimulation();\n    }\n}\n","import { autorun } from \"mobx\";\n\nimport PreferencesStore from \"./PreferencesStore\";\nimport GraphStore from \"./GraphStore\";\nimport ImportStore from \"./ImportStore\";\nimport ProjectStore from \"./ProjectStore\";\nimport SearchStore from \"./SearchStore\";\nimport ClusterStore from \"./ClusterStore\";\nimport CssStore from \"./CssStore\";\nimport GraphDelegate from \"./GraphDelegate\";\n\nclass AppState {\n    static _instance: AppState | null = null;\n\n    preferences!: PreferencesStore;\n    graph!: GraphStore;\n    graphDelegate!: GraphDelegate;\n    import!: ImportStore;\n    search!: SearchStore;\n    project!: ProjectStore;\n    cluster!: ClusterStore;\n    css!: CssStore;\n\n    private privateConstructor() {\n        this.preferences = new PreferencesStore();\n        this.graph = new GraphStore();\n        this.graphDelegate = new GraphDelegate();\n        this.import = new ImportStore();\n        this.search = new SearchStore();\n        this.project = new ProjectStore();\n        this.cluster = new ClusterStore();\n        this.css = new CssStore();\n    }\n\n    // add singleton to prevent creating multiple instances of the State class\n    static get instance() {\n        if (AppState._instance === null) {\n            let instance = new AppState();\n            instance.privateConstructor();\n            AppState._instance = instance;\n            return instance;\n        } else {\n            return AppState._instance;\n        }\n    }\n}\n\nconst State = AppState.instance;\n\n// this is for easily debugging in runtime\n//@ts-ignore\nwindow._state = State;\n\n// extract CSV from selected edge File object and update related fields.\n// will auto run if selectedEdgeFileFromInput or delimiter or anything is changed.\nautorun(() => State.import.renderImportEdgePreview());\n\n// extract CSV from selected node File object and update related fields.\n// will auto run if selectedNodeFileFromInput or delimiter or anything is changed.\nautorun(() => State.import.renderImportNodePreview());\n\nautorun(\n    () =>\n        (State.cluster.rawGraph = State.search.rawGraph = State.graph.rawGraph)\n);\n\nautorun(() => {\n    if (State.css.isAnimating === true) {\n        State.graphDelegate.graphDelegateMethods?.resumeAnimation();\n    } else {\n        State.graphDelegate.graphDelegateMethods?.pauseAnimation();\n    }\n});\n\nexport default State;\n","import React, { MouseEventHandler } from \"react\";\nimport { Button, FormGroup, MenuItem } from \"@blueprintjs/core\";\nimport { Select } from \"@blueprintjs/select\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport { copy } from \"copy-anything\";\n\ninterface Props {\n    /**\n     * whether or not to show the None\n     *\n     * @type {string}\n     * @memberof Props\n     */\n    showNone: boolean;\n\n    /**\n     * function to call when a candidate is selected, will be called on every selection of candidate\n     * if None is selected, the item props will be set to null\n     *\n     * @memberof Props\n     */\n    onSelect: (item: string | null) => void;\n\n    /**\n     * the selected to display will sync with this props\n     *\n     * @type {(string | null)}\n     * @memberof Props\n     */\n    syncWith: string | null;\n}\n\ninterface CustomIItemRendererProps {\n    handleClick: MouseEventHandler<HTMLElement>;\n}\n\n/**\n * this component can be used to choose the attribute among all the attributes, with addition none to choose (can be toggled to off)\n * to use it, you have to specify whether to add additional None to the list and onChange function to call when a candidate is selected\n */\nexport default observer(\n    class ClusterChooser extends React.Component<Props, {}> {\n        static defaultProps = {\n            showNone: true,\n        };\n\n        get fullProperties(): string[] {\n            let propertiesWithNone = copy(State.graph.metadata.nodeProperties);\n            propertiesWithNone.unshift(\"None\");\n            return propertiesWithNone;\n        }\n\n        itemRenderer = (\n            item: any,\n            props: CustomIItemRendererProps\n        ): JSX.Element | null => {\n            if (item == \"None\") {\n                return (\n                    <MenuItem\n                        intent=\"primary\"\n                        key={item}\n                        onClick={props.handleClick}\n                        text={item}\n                    />\n                );\n            } else {\n                return (\n                    <MenuItem\n                        key={item}\n                        onClick={props.handleClick}\n                        text={item}\n                    />\n                );\n            }\n        };\n\n        render() {\n            return (\n                <Select\n                    items={\n                        this.props.showNone\n                            ? this.fullProperties\n                            : State.graph.metadata.nodeProperties\n                    }\n                    itemRenderer={this.itemRenderer}\n                    filterable={false}\n                    onItemSelect={(item: string) => {\n                        let selected = item === \"None\" ? null : item;\n                        this.props.onSelect(selected);\n                    }}\n                >\n                    <Button text={this.props.syncWith ?? \"None\"} />\n                </Select>\n            );\n        }\n    }\n);\n","export default __webpack_public_path__ + \"static/media/logo.25a51149.png\";","import React, { MouseEventHandler } from \"react\";\nimport { Button, MenuItem } from \"@blueprintjs/core\";\nimport { Select } from \"@blueprintjs/labs\";\nimport { observer } from \"mobx-react\";\n\ninterface Props {\n    items: any[];\n    onSelect: (\n        item: any,\n        event?: React.SyntheticEvent<HTMLElement, Event> | undefined\n    ) => void;\n    text: string;\n}\n\ninterface CustomIItemRendererProps {\n    handleClick: MouseEventHandler<HTMLElement>;\n}\n\nexport function CommonItemRenderer(\n    item: any,\n    props: CustomIItemRendererProps\n): JSX.Element | null {\n    return <MenuItem key={item} onClick={props.handleClick} text={item} />;\n}\n\nexport default observer(\n    class SimpleSelect extends React.Component<Props, {}> {\n        render() {\n            return (\n                <Select\n                    items={this.props.items}\n                    itemRenderer={CommonItemRenderer}\n                    filterable={false}\n                    onItemSelect={this.props.onSelect}\n                >\n                    <Button text={this.props.text} />\n                </Select>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport {\n    Button,\n    ButtonGroup,\n    Classes,\n    Menu,\n    MenuDivider,\n    MenuItem,\n    Popover,\n    Position,\n    Switch,\n} from \"@blueprintjs/core\";\nimport ClusterChooser from \"./utils/ClusterChooser\";\nimport logo from \"../images/logo.png\";\nimport State from \"../state\";\nimport SimpleSelect from \"./utils/SimpleSelect\";\nimport ComponentRef from \"./ComponentRef\";\n\nexport default observer(\n    class Navbar extends React.Component {\n        render() {\n            return (\n                <nav className={classnames([Classes.NAVBAR])}>\n                    <div\n                        className={classnames([\n                            Classes.NAVBAR_GROUP,\n                            Classes.ALIGN_LEFT,\n                        ])}\n                    >\n                        <img\n                            title=\"PiperNet\"\n                            id=\"PiperNet Logo\"\n                            src={logo}\n                            width=\"35\"\n                            height=\"35\"\n                            alt=\"PiperNet Logo\"\n                        />\n                        <div className={classnames([Classes.NAVBAR_HEADING])}>\n                            {\" \"}\n                            PiperNet{\" \"}\n                        </div>\n\n                        <Popover\n                            content={\n                                <Menu>\n                                    <MenuItem\n                                        text=\"Load Sample\"\n                                        icon=\"graph\"\n                                        onClick={() => {\n                                            State.import.importSamplesDialogOpen = true;\n                                        }}\n                                    >\n                                        {/* {SAMPLE_GRAPH_SNAPSHOTS.map(\n                                            (sample) => {\n                                                const sampleSnapshotTitle =\n                                                    sample[0];\n                                                const sampleSnapshotUrl =\n                                                    sample[1];\n\n                                                return (\n                                                    <MenuItem\n                                                        icon=\"graph\"\n                                                        text={\n                                                            sampleSnapshotTitle\n                                                        }\n                                                        disabled={true}\n                                                        onClick={() => {\n                                                            fetchSampleGraph(\n                                                                sampleSnapshotUrl\n                                                            ).then((file) => {\n                                                                State.import.selectedGEXFFileFromInput = file;\n                                                                State.import\n                                                                    .importGraphFromGEXF()\n                                                                    .then(\n                                                                        (\n                                                                            res\n                                                                        ) => {\n                                                                            State.graph.rawGraph =\n                                                                                res.graph;\n                                                                            State.graph.metadata =\n                                                                                res.metadata;\n                                                                        }\n                                                                    );\n                                                            });\n                                                        }}\n                                                    />\n                                                );\n                                            }\n                                        )} */}\n                                    </MenuItem>\n                                    <MenuDivider />\n                                    <MenuItem\n                                        icon=\"import\"\n                                        text=\"Import from CSV...\"\n                                        onClick={() => {\n                                            State.import.importCSVDialogOpen = true;\n                                        }}\n                                    />\n                                    <MenuItem\n                                        icon=\"import\"\n                                        text=\"Import from GEXF...\"\n                                        onClick={() => {\n                                            State.import.importGEXFDialogOpen = true;\n                                        }}\n                                    />\n                                    <MenuDivider />\n                                    <MenuItem\n                                        icon=\"download\"\n                                        text=\"Export Graph\"\n                                        onClick={() => {\n                                            State.project.exportDialogOpen = true;\n                                        }}\n                                    />\n                                </Menu>\n                            }\n                            position={Position.BOTTOM}\n                        >\n                            <Button\n                                className={classnames([\n                                    Classes.BUTTON,\n                                    Classes.MINIMAL,\n                                ])}\n                                icon=\"document\"\n                            >\n                                Graph\n                            </Button>\n                        </Popover>\n                        <Popover\n                            content={\n                                <Menu>\n                                    <MenuItem\n                                        text=\"Node DataSheet\"\n                                        icon=\"ungroup-objects\"\n                                        onClick={() => {\n                                            State.preferences.nodeDataSheetDialogOpen = true;\n                                        }}\n                                    />\n                                    <MenuItem\n                                        text=\"Edge DataSheet\"\n                                        icon=\"link\"\n                                        onClick={() => {\n                                            State.preferences.edgeDataSheetDialogOpen = true;\n                                        }}\n                                    />\n                                    {/* <MenuItem\n                                        text=\"Statistics\"\n                                        icon=\"timeline-bar-chart\"\n                                        onClick={() => {\n                                            State.preferences.statisticsDialogOpen = true;\n                                        }}\n                                    /> */}\n                                </Menu>\n                            }\n                            position={Position.BOTTOM}\n                        >\n                            <Button\n                                className={classnames([\n                                    Classes.BUTTON,\n                                    Classes.MINIMAL,\n                                ])}\n                                icon=\"wrench\"\n                            >\n                                Tools\n                            </Button>\n                        </Popover>\n                        <Switch\n                            label=\"Graph Animation\"\n                            checked={State.css.isAnimating}\n                            onChange={() =>\n                                (State.css.isAnimating = !State.css.isAnimating)\n                            }\n                        />\n                    </div>\n                    {/* <div\n                    className={classnames([\n                        Classes.NAVBAR_GROUP,\n                        Classes.ALIGN_LEFT,\n                    ])}\n                >\n                    <span className={Classes.NAVBAR_DIVIDER} />\n                    {appState.graph.hasGraph && appState.graph.frame && (\n                        <div style={{ display: \"inline\" }}>\n                            <Tooltip\n                                content={\n                                    appState.graph.frame.paused\n                                        ? \"Resume Layout Algorithm\"\n                                        : \"Pause Layout Algorithm\"\n                                }\n                                position={Position.BOTTOM}\n                            >\n                                <Button\n                                    className={classnames([\n                                        Classes.BUTTON,\n                                        Classes.MINIMAL,\n                                    ])}\n                                    icon={\n                                        appState.graph.frame.paused\n                                            ? \"play\"\n                                            : \"pause\"\n                                    }\n                                    text={\n                                        appState.graph.frame.paused\n                                            ? \"Resume Layout\"\n                                            : \"Pause Layout\"\n                                    }\n                                    onClick={() => {\n                                        if (appState.graph.frame.paused) {\n                                            appState.graph.frame.resumeLayout();\n                                            this.forceUpdate();\n                                        } else {\n                                            appState.graph.frame.pauseLayout();\n                                            this.forceUpdate();\n                                        }\n                                    }}\n                                />\n                            </Tooltip>\n                        </div>\n                    )}\n                </div> */}\n                    <ButtonGroup>\n                        {/* <SimpleSelect\n                            className={classnames([Classes.ALERT_CONTENTS])}\n                            items={[\"3D\", \"2D\"]}\n                            value={State.preferences.view}\n                            onSelect={(it) => (State.preferences.view = it)}\n                        />\n                        <Divider /> */}\n                    </ButtonGroup>\n\n                    <div\n                        className={classnames([\n                            Classes.NAVBAR_GROUP,\n                            Classes.ALIGN_RIGHT,\n                        ])}\n                    >\n                        Clustered by\n                        <ClusterChooser\n                            onSelect={(cluster) => {\n                                State.cluster.setCluster(cluster);\n                            }}\n                            syncWith={State.cluster.clusterBy}\n                        />\n                        <span className={Classes.NAVBAR_DIVIDER} />\n                        <SimpleSelect\n                            items={[\"trackball\", \"orbit\", \"fly\"]}\n                            text={State.preferences.controlType}\n                            onSelect={(it) => {\n                                State.preferences.controlType = it;\n                                ComponentRef.visualizer.updateVisualizationGraph();\n                            }}\n                        />\n                        <span className={Classes.NAVBAR_DIVIDER} />\n                        <Button\n                            className={classnames([\n                                Classes.BUTTON,\n                                Classes.MINIMAL,\n                            ])}\n                            icon=\"cog\"\n                            disabled={true}\n                            onClick={() => {\n                                State.preferences.preferenceDialogOpen = true;\n                            }}\n                        />\n                        <Button\n                            className={classnames([\n                                Classes.BUTTON,\n                                Classes.MINIMAL,\n                            ])}\n                            icon=\"code\"\n                            onClick={() => {\n                                window.open(\n                                    \"https://github.com/grp202004/PiperNet\"\n                                );\n                            }}\n                        />\n                    </div>\n                </nav>\n            );\n        }\n    }\n);\n","import React, { ReactNode } from \"react\";\nimport { Button, Card, Classes, Collapse, Elevation } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\n\ninterface Props {\n    name: string;\n    isOpen: boolean;\n    onToggle: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n    children: ReactNode;\n}\n\nexport default observer(\n    class SimpleSelect extends React.Component<Props, {}> {\n        render() {\n            return (\n                <Card elevation={Elevation.THREE}>\n                    <Button\n                        className={classnames(\n                            Classes.LARGE,\n                            Classes.FILL,\n                            \"text-align-left\"\n                        )}\n                        rightIcon={\n                            this.props.isOpen ? \"chevron-up\" : \"chevron-down\"\n                        }\n                        onClick={this.props.onToggle}\n                    >\n                        {this.props.name}\n                    </Button>\n                    <Collapse isOpen={this.props.isOpen}>\n                        {this.props.children}\n                    </Collapse>\n                </Card>\n            );\n        }\n    }\n);\n","import convert from \"xml-js\";\n\nexport const GITHUB_URL = \"\";\n\nexport const SAMPLE_GRAPH_SNAPSHOTS = [\n    [\n        \"Les Miserables\",\n        \"source,target,value\\rNapoleon,Myriel,1\\rMlle.Baptistine,Myriel,8\\rMme.Magloire,Myriel,10\\rMme.Magloire,Mlle.Baptistine,6\\rCountessdeLo,Myriel,1\\rGeborand,Myriel,1\\rChamptercier,Myriel,1\\rCravatte,Myriel,1\\rCount,Myriel,2\\rOldMan,Myriel,1\\rValjean,Labarre,1\\rValjean,Mme.Magloire,3\\rValjean,Mlle.Baptistine,3\\rValjean,Myriel,5\\rMarguerite,Valjean,1\\rMme.deR,Valjean,1\\rIsabeau,Valjean,1\\rGervais,Valjean,1\\rListolier,Tholomyes,4\\rFameuil,Tholomyes,4\\rFameuil,Listolier,4\\rBlacheville,Tholomyes,4\\rBlacheville,Listolier,4\\rBlacheville,Fameuil,4\\rFavourite,Tholomyes,3\\rFavourite,Listolier,3\\rFavourite,Fameuil,3\\rFavourite,Blacheville,4\\rDahlia,Tholomyes,3\\rDahlia,Listolier,3\\rDahlia,Fameuil,3\\rDahlia,Blacheville,3\\rDahlia,Favourite,5\\rZephine,Tholomyes,3\\rZephine,Listolier,3\\rZephine,Fameuil,3\\rZephine,Blacheville,3\\rZephine,Favourite,4\\rZephine,Dahlia,4\\rFantine,Tholomyes,3\\rFantine,Listolier,3\\rFantine,Fameuil,3\\rFantine,Blacheville,3\\rFantine,Favourite,4\\rFantine,Dahlia,4\\rFantine,Zephine,4\\rFantine,Marguerite,2\\rFantine,Valjean,9\\rMme.Thenardier,Fantine,2\\rMme.Thenardier,Valjean,7\\rThenardier,Mme.Thenardier,13\\rThenardier,Fantine,1\\rThenardier,Valjean,12\\rCosette,Mme.Thenardier,4\\rCosette,Valjean,31\\rCosette,Tholomyes,1\\rCosette,Thenardier,1\\rJavert,Valjean,17\\rJavert,Fantine,5\\rJavert,Thenardier,5\\rJavert,Mme.Thenardier,1\\rJavert,Cosette,1\\rFauchelevent,Valjean,8\\rFauchelevent,Javert,1\\rBamatabois,Fantine,1\\rBamatabois,Javert,1\\rBamatabois,Valjean,2\\rPerpetue,Fantine,1\\rSimplice,Perpetue,2\\rSimplice,Valjean,3\\rSimplice,Fantine,2\\rSimplice,Javert,1\\rScaufflaire,Valjean,1\\rWoman1,Valjean,2\\rWoman1,Javert,1\\rJudge,Valjean,3\\rJudge,Bamatabois,2\\rChampmathieu,Valjean,3\\rChampmathieu,Judge,3\\rChampmathieu,Bamatabois,2\\rBrevet,Judge,2\\rBrevet,Champmathieu,2\\rBrevet,Valjean,2\\rBrevet,Bamatabois,1\\rChenildieu,Judge,2\\rChenildieu,Champmathieu,2\\rChenildieu,Brevet,2\\rChenildieu,Valjean,2\\rChenildieu,Bamatabois,1\\rCochepaille,Judge,2\\rCochepaille,Champmathieu,2\\rCochepaille,Brevet,2\\rCochepaille,Chenildieu,2\\rCochepaille,Valjean,2\\rCochepaille,Bamatabois,1\\rPontmercy,Thenardier,1\\rBoulatruelle,Thenardier,1\\rEponine,Mme.Thenardier,2\\rEponine,Thenardier,3\\rAnzelma,Eponine,2\\rAnzelma,Thenardier,2\\rAnzelma,Mme.Thenardier,1\\rWoman2,Valjean,3\\rWoman2,Cosette,1\\rWoman2,Javert,1\\rMotherInnocent,Fauchelevent,3\\rMotherInnocent,Valjean,1\\rGribier,Fauchelevent,2\\rMme.Burgon,Jondrette,1\\rGavroche,Mme.Burgon,2\\rGavroche,Thenardier,1\\rGavroche,Javert,1\\rGavroche,Valjean,1\\rGillenormand,Cosette,3\\rGillenormand,Valjean,2\\rMagnon,Gillenormand,1\\rMagnon,Mme.Thenardier,1\\rMlle.Gillenormand,Gillenormand,9\\rMlle.Gillenormand,Cosette,2\\rMlle.Gillenormand,Valjean,2\\rMme.Pontmercy,Mlle.Gillenormand,1\\rMme.Pontmercy,Pontmercy,1\\rMlle.Vaubois,Mlle.Gillenormand,1\\rLt.Gillenormand,Mlle.Gillenormand,2\\rLt.Gillenormand,Gillenormand,1\\rLt.Gillenormand,Cosette,1\\rMarius,Mlle.Gillenormand,6\\rMarius,Gillenormand,12\\rMarius,Pontmercy,1\\rMarius,Lt.Gillenormand,1\\rMarius,Cosette,21\\rMarius,Valjean,19\\rMarius,Tholomyes,1\\rMarius,Thenardier,2\\rMarius,Eponine,5\\rMarius,Gavroche,4\\rBaronessT,Gillenormand,1\\rBaronessT,Marius,1\\rMabeuf,Marius,1\\rMabeuf,Eponine,1\\rMabeuf,Gavroche,1\\rEnjolras,Marius,7\\rEnjolras,Gavroche,7\\rEnjolras,Javert,6\\rEnjolras,Mabeuf,1\\rEnjolras,Valjean,4\\rCombeferre,Enjolras,15\\rCombeferre,Marius,5\\rCombeferre,Gavroche,6\\rCombeferre,Mabeuf,2\\rProuvaire,Gavroche,1\\rProuvaire,Enjolras,4\\rProuvaire,Combeferre,2\\rFeuilly,Gavroche,2\\rFeuilly,Enjolras,6\\rFeuilly,Prouvaire,2\\rFeuilly,Combeferre,5\\rFeuilly,Mabeuf,1\\rFeuilly,Marius,1\\rCourfeyrac,Marius,9\\rCourfeyrac,Enjolras,17\\rCourfeyrac,Combeferre,13\\rCourfeyrac,Gavroche,7\\rCourfeyrac,Mabeuf,2\\rCourfeyrac,Eponine,1\\rCourfeyrac,Feuilly,6\\rCourfeyrac,Prouvaire,3\\rBahorel,Combeferre,5\\rBahorel,Gavroche,5\\rBahorel,Courfeyrac,6\\rBahorel,Mabeuf,2\\rBahorel,Enjolras,4\\rBahorel,Feuilly,3\\rBahorel,Prouvaire,2\\rBahorel,Marius,1\\rBossuet,Marius,5\\rBossuet,Courfeyrac,12\\rBossuet,Gavroche,5\\rBossuet,Bahorel,4\\rBossuet,Enjolras,10\\rBossuet,Feuilly,6\\rBossuet,Prouvaire,2\\rBossuet,Combeferre,9\\rBossuet,Mabeuf,1\\rBossuet,Valjean,1\\rJoly,Bahorel,5\\rJoly,Bossuet,7\\rJoly,Gavroche,3\\rJoly,Courfeyrac,5\\rJoly,Enjolras,5\\rJoly,Feuilly,5\\rJoly,Prouvaire,2\\rJoly,Combeferre,5\\rJoly,Mabeuf,1\\rJoly,Marius,2\\rGrantaire,Bossuet,3\\rGrantaire,Enjolras,3\\rGrantaire,Combeferre,1\\rGrantaire,Courfeyrac,2\\rGrantaire,Joly,2\\rGrantaire,Gavroche,1\\rGrantaire,Bahorel,1\\rGrantaire,Feuilly,1\\rGrantaire,Prouvaire,1\\rMotherPlutarch,Mabeuf,3\\rGueulemer,Thenardier,5\\rGueulemer,Valjean,1\\rGueulemer,Mme.Thenardier,1\\rGueulemer,Javert,1\\rGueulemer,Gavroche,1\\rGueulemer,Eponine,1\\rBabet,Thenardier,6\\rBabet,Gueulemer,6\\rBabet,Valjean,1\\rBabet,Mme.Thenardier,1\\rBabet,Javert,2\\rBabet,Gavroche,1\\rBabet,Eponine,1\\rClaquesous,Thenardier,4\\rClaquesous,Babet,4\\rClaquesous,Gueulemer,4\\rClaquesous,Valjean,1\\rClaquesous,Mme.Thenardier,1\\rClaquesous,Javert,1\\rClaquesous,Eponine,1\\rClaquesous,Enjolras,1\\rMontparnasse,Javert,1\\rMontparnasse,Babet,2\\rMontparnasse,Gueulemer,2\\rMontparnasse,Claquesous,2\\rMontparnasse,Valjean,1\\rMontparnasse,Gavroche,1\\rMontparnasse,Eponine,1\\rMontparnasse,Thenardier,1\\rToussaint,Cosette,2\\rToussaint,Javert,1\\rToussaint,Valjean,1\\rChild1,Gavroche,2\\rChild2,Gavroche,2\\rChild2,Child1,3\\rBrujon,Babet,3\\rBrujon,Gueulemer,3\\rBrujon,Thenardier,3\\rBrujon,Gavroche,1\\rBrujon,Eponine,1\\rBrujon,Claquesous,1\\rBrujon,Montparnasse,1\\rMme.Hucheloup,Bossuet,1\\rMme.Hucheloup,Joly,1\\rMme.Hucheloup,Grantaire,1\\rMme.Hucheloup,Bahorel,1\\rMme.Hucheloup,Courfeyrac,1\\rMme.Hucheloup,Gavroche,1\\rMme.Hucheloup,Enjolras,1\",\n    ],\n    [\"COVID-19 Citation Graph 06-02\", \"../samples/json/a.json\"],\n];\n\nexport async function fetchSampleGraph(url: string) {\n    try {\n        let response = await fetch(url, { mode: \"no-cors\" });\n        let gexfJson = await response.json();\n        return new File([convert.json2xml(gexfJson)], \"sample.gexf\", {\n            type: \"text/xml\",\n        });\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const NODE_AND_EDGE_FILE = \"both nodes and edges file\";\nexport const ONLY_EDGE_FILE = \"only edges file\";\n","import React from \"react\";\nimport {\n    Button,\n    Callout,\n    Classes,\n    Dialog,\n    Divider,\n    FileInput,\n    Intent,\n    Spinner,\n    Switch,\n    Tag,\n} from \"@blueprintjs/core\";\nimport { Cell, Column, Table } from \"@blueprintjs/table\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\n\nimport Collapsable from \"../utils/Collapsable\";\nimport SimpleSelect from \"../utils/SimpleSelect\";\nimport { NODE_AND_EDGE_FILE, ONLY_EDGE_FILE } from \"../../constants\";\nimport { IEdgeFileConfig, INodeFileConfig } from \"../../state/ImportStore\";\n\ninterface PreviewTableProps {\n    file: INodeFileConfig | IEdgeFileConfig;\n}\n\nlet PreviewTable = observer(\n    class PreviewTable extends React.Component<PreviewTableProps, {}> {\n        file = this.props.file;\n\n        renderWrapper = () => {\n            return this.file.parseError ? (\n                <Callout title={\"Error Parsing File\"} intent=\"warning\">\n                    Try with other options of <code>Delimiter</code> or review\n                    the file for import to find possible problems.\n                </Callout>\n            ) : (\n                <div>\n                    <Table\n                        className=\"import-preview-table\"\n                        numRows={this.file.topN.length}\n                        selectedRegions={Object.values(this.file.mapping)\n                            .map((it) => this.file.columns.indexOf(it))\n                            .map((it) => ({ rows: null, cols: [it, it] }))}\n                    >\n                        {this.file.columns.map((it) => (\n                            <Column\n                                key={it}\n                                name={it}\n                                cellRenderer={(i) => (\n                                    <Cell>{this.file.topN[i][it]}</Cell>\n                                )}\n                            />\n                        ))}\n                    </Table>\n                    <Tag>\n                        Only the top {this.file.topN.length} rows of the\n                        selected file are displayed.\n                    </Tag>\n                </div>\n            );\n        };\n\n        render() {\n            return this.renderWrapper();\n        }\n    }\n);\n\nexport default observer(\n    class ImportCSVDialog extends React.Component {\n        state = {\n            loading: false,\n            available: ONLY_EDGE_FILE,\n            nodesOpen: true,\n            edgesOpen: true,\n            delimiter: \",\",\n        };\n\n        // determine if this state is importable\n        canImport = () => {\n            if (this.state.available === NODE_AND_EDGE_FILE) {\n                return (\n                    State.import.importConfig.edgeFile.isReady &&\n                    State.import.importConfig.nodeFile.isReady\n                );\n            } else if (this.state.available === ONLY_EDGE_FILE) {\n                return State.import.importConfig.edgeFile.isReady;\n            }\n            return false;\n        };\n\n        renderNodesSelection = () => {\n            const nodeFile = State.import.importConfig.nodeFile;\n\n            // show blank if node file not relevant\n            if (this.state.available === ONLY_EDGE_FILE) {\n                return null;\n            }\n\n            return (\n                <Collapsable\n                    name=\"Nodes\"\n                    isOpen={this.state.nodesOpen}\n                    onToggle={() =>\n                        this.setState({ nodesOpen: !this.state.nodesOpen })\n                    }\n                >\n                    <br />\n                    <div className={classnames(Classes.CONTROL_GROUP)}>\n                        <div\n                            className={classnames(\n                                Classes.INPUT_GROUP,\n                                Classes.FILL\n                            )}\n                        >\n                            <FileInput\n                                text={State.import.nodeFileName}\n                                onInputChange={(event) => {\n                                    let target = event.target as HTMLInputElement;\n                                    if (\n                                        !target.files ||\n                                        target.files.length < 1\n                                    ) {\n                                        return;\n                                    }\n                                    State.import.nodeFileName =\n                                        target.files[0].name;\n                                    // after setting the selectedNodeFileFromInput, it will auto render the preview table\n                                    State.import.selectedNodeFileFromInput =\n                                        target.files[0];\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <Switch\n                        label=\"Has Headers\"\n                        checked={nodeFile.hasHeader}\n                        onChange={() =>\n                            (nodeFile.hasHeader = !nodeFile.hasHeader)\n                        }\n                    />\n                    {nodeFile.isReady && (\n                        <div className=\"column-selection\">\n                            <PreviewTable file={nodeFile} />\n                            <br />\n                            Column for Node ID:\n                            <SimpleSelect\n                                items={nodeFile.columns}\n                                text={nodeFile.mapping.id}\n                                onSelect={(it) => (nodeFile.mapping.id = it)}\n                            />\n                        </div>\n                    )}\n                </Collapsable>\n            );\n        };\n\n        renderEdgesSelection = () => {\n            const edgeFile = State.import.importConfig.edgeFile;\n            return (\n                <Collapsable\n                    name=\"Edges\"\n                    isOpen={this.state.edgesOpen}\n                    onToggle={() =>\n                        this.setState({ edgesOpen: !this.state.edgesOpen })\n                    }\n                >\n                    <br />\n                    <div className={classnames(Classes.CONTROL_GROUP)}>\n                        <div\n                            className={classnames(\n                                Classes.INPUT_GROUP,\n                                Classes.FILL\n                            )}\n                        >\n                            <FileInput\n                                text={State.import.edgeFileName}\n                                onInputChange={(event) => {\n                                    let target = event.target as HTMLInputElement;\n                                    if (\n                                        !target.files ||\n                                        target.files.length < 1\n                                    ) {\n                                        return;\n                                    }\n                                    State.import.edgeFileName =\n                                        target.files[0].name;\n                                    State.import.selectedEdgeFileFromInput =\n                                        target.files[0];\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <Switch\n                        label=\"Has Headers\"\n                        checked={edgeFile.hasHeader}\n                        onChange={() =>\n                            (edgeFile.hasHeader = !edgeFile.hasHeader)\n                        }\n                    />\n                    {edgeFile.isReady && (\n                        <div className=\"column-selection\">\n                            <PreviewTable file={edgeFile} />\n                            <br />\n                            Column for Source ID:\n                            <SimpleSelect\n                                items={edgeFile.columns}\n                                text={edgeFile.mapping.fromId}\n                                onSelect={(it) =>\n                                    (edgeFile.mapping.fromId = it)\n                                }\n                            />{\" \"}\n                            <br />\n                            Column for Target ID:\n                            <SimpleSelect\n                                items={edgeFile.columns}\n                                text={edgeFile.mapping.toId}\n                                onSelect={(it) => (edgeFile.mapping.toId = it)}\n                            />\n                        </div>\n                    )}\n                </Collapsable>\n            );\n        };\n\n        renderDelimiterSelection() {\n            return (\n                <div>\n                    Selected Delimiter\n                    <SimpleSelect\n                        items={[\",\", \"\\\\t\", \";\", \"[SPACE]\"]}\n                        text={this.state.delimiter}\n                        onSelect={(newDelimiter) => {\n                            this.setState({ delimiter: newDelimiter });\n\n                            if (newDelimiter === \"\\\\t\") {\n                                newDelimiter = \"\\t\";\n                            } else if (newDelimiter === \"[SPACE]\") {\n                                newDelimiter = \" \";\n                            }\n\n                            State.import.importConfig.edgeFile.delimiter = newDelimiter;\n                            State.import.importConfig.nodeFile.delimiter = newDelimiter;\n                        }}\n                    />{\" \"}\n                </div>\n            );\n        }\n\n        render() {\n            return (\n                <Dialog\n                    style={{ minWidth: \"80vw\" }}\n                    icon=\"import\"\n                    className={classnames({\n                        [Classes.DARK]: State.preferences.darkMode,\n                    })}\n                    isOpen={State.import.importCSVDialogOpen}\n                    onClose={() => {\n                        State.import.importCSVDialogOpen = false;\n                    }}\n                    title=\"Import CSV\"\n                >\n                    {/* if is loading, then show Spinner */}\n                    {State.import.isLoading ? (\n                        <Spinner />\n                    ) : (\n                        <div>\n                            <div\n                                className={classnames(\n                                    Classes.DIALOG_BODY,\n                                    \"import-dialog\"\n                                )}\n                            >\n                                I have:\n                                <SimpleSelect\n                                    items={[ONLY_EDGE_FILE, NODE_AND_EDGE_FILE]}\n                                    text={this.state.available}\n                                    onSelect={(targetValue) => {\n                                        State.import.importConfig.hasNodeFile = !(\n                                            targetValue === ONLY_EDGE_FILE\n                                        );\n                                        this.setState({\n                                            available: targetValue,\n                                        });\n                                    }}\n                                />\n                                <Divider />\n                                {this.renderNodesSelection()}\n                                <br />\n                                {this.renderEdgesSelection()}\n                                <br />\n                                {this.renderDelimiterSelection()}\n                            </div>\n                            <div className={Classes.DIALOG_FOOTER}>\n                                <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                                    <Button\n                                        className={classnames({\n                                            [Classes.DISABLED]: !this.canImport(),\n                                        })}\n                                        intent={Intent.PRIMARY}\n                                        onClick={() => {\n                                            State.import.isLoading = true;\n                                            State.import\n                                                .importGraphFromCSV()\n                                                .then((res) => {\n                                                    State.graph.setGraph(\n                                                        res.graph,\n                                                        res.metadata\n                                                    );\n                                                    State.import.isLoading = false;\n                                                    State.import.importCSVDialogOpen = false;\n                                                });\n                                        }}\n                                        text=\"Import\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </Dialog>\n            );\n        }\n    }\n);\n","/* eslint-disable jsx-a11y/label-has-for */\nimport React from \"react\";\nimport {\n    Button,\n    Classes,\n    Dialog,\n    FileInput,\n    Intent,\n    Spinner,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport State from \"../../state\";\n\nexport default observer(\n    class ImportGEXFDialog extends React.Component {\n        state = {\n            fileIsSelect: false,\n        };\n\n        renderImportButton() {\n            return (\n                <div className={Classes.DIALOG_FOOTER}>\n                    <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                        <Button\n                            className={classnames({\n                                [Classes.DISABLED]: !this.state.fileIsSelect,\n                            })}\n                            intent={Intent.PRIMARY}\n                            onClick={() => {\n                                State.import.isLoading = true;\n                                State.import\n                                    .importGraphFromGEXF()\n                                    .then((res) => {\n                                        State.graph.setGraph(\n                                            res.graph,\n                                            res.metadata\n                                        );\n                                        State.import.isLoading = false;\n                                        State.import.importGEXFDialogOpen = false;\n                                    });\n                            }}\n                            text=\"Import\"\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        render() {\n            return (\n                <Dialog\n                    icon=\"import\"\n                    className={classnames({\n                        [Classes.DARK]: State.preferences.darkMode,\n                    })}\n                    isOpen={State.import.importGEXFDialogOpen}\n                    onClose={() => {\n                        State.import.importGEXFDialogOpen = false;\n                    }}\n                    title=\"Import GEXF\"\n                >\n                    {/* if is loading, then show Spinner */}\n                    {State.import.isLoading ? (\n                        <Spinner />\n                    ) : (\n                        <div\n                            className={classnames(\n                                Classes.DIALOG_BODY,\n                                \"import-dialog\"\n                            )}\n                        >\n                            <div>\n                                <div\n                                    className={classnames(\n                                        Classes.CONTROL_GROUP\n                                    )}\n                                >\n                                    <div\n                                        className={classnames(\n                                            Classes.INPUT_GROUP,\n                                            Classes.FILL\n                                        )}\n                                    >\n                                        <FileInput\n                                            text={State.import.gexfFileName}\n                                            onInputChange={(event) => {\n                                                let target = event.target as HTMLInputElement;\n                                                if (\n                                                    !target.files ||\n                                                    target.files.length < 1\n                                                ) {\n                                                    return;\n                                                }\n                                                State.import.gexfFileName =\n                                                    target.files[0].name;\n                                                // after setting the selectedNodeFileFromInput, it will auto render the preview table\n                                                State.import.selectedGEXFFileFromInput =\n                                                    target.files[0];\n\n                                                this.setState({\n                                                    fileIsSelect: true,\n                                                });\n                                            }}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                            {this.renderImportButton()}\n                        </div>\n                    )}\n                </Dialog>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport {\n    Button,\n    ButtonGroup,\n    Card,\n    Classes,\n    Dialog,\n    Divider,\n    Elevation,\n    H3,\n    Spinner,\n} from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport gexf from \"graphology-gexf/browser\";\nimport State from \"../../state\";\nimport { CSVLink } from \"react-csv\";\n\nexport default observer(\n    class ExportDialog extends React.Component {\n        state = {\n            ready: true,\n        };\n\n        computeGEXFFile() {\n            return gexf.write(State.graph.rawGraph);\n        }\n\n        computeNodeFile() {\n            let headers: {\n                label: string;\n                key: string;\n            }[] = [];\n            State.graph.metadata.nodeProperties.map((value) => {\n                headers.push({ label: value, key: value });\n                return null;\n            });\n            headers.push({ label: \"_id\", key: \"_id\" });\n            let exportData = State.graph.rawGraph.export();\n            let data: any[] = [];\n            exportData.nodes.forEach((node) => {\n                data.push({\n                    _id: node.key,\n                    ...node.attributes,\n                });\n            });\n            return { headers: headers, data: data };\n        }\n\n        computeEdgeFile() {\n            let headers: {\n                label: string;\n                key: string;\n            }[] = [\n                { label: \"source\", key: \"source\" },\n                { label: \"target\", key: \"target\" },\n            ];\n\n            let exportData = State.graph.rawGraph.export();\n            let data: any[] = [];\n            exportData.edges.forEach((edge) => {\n                data.push({\n                    source: edge.source,\n                    target: edge.target,\n                });\n            });\n            return { headers: headers, data: data };\n        }\n\n        render() {\n            return (\n                <Dialog\n                    icon=\"projects\"\n                    isOpen={State.project.exportDialogOpen}\n                    onClose={() => {\n                        State.project.exportDialogOpen = false;\n                    }}\n                    title={`Export Graph`}\n                >\n                    {!this.state.ready ? (\n                        <Spinner />\n                    ) : (\n                        <div className={classnames(Classes.DIALOG_BODY)}>\n                            <Card interactive={false} elevation={Elevation.ONE}>\n                                <H3>\n                                    GEXF Export{\" \"}\n                                    <Button\n                                        icon=\"help\"\n                                        minimal={true}\n                                        onClick={() => {\n                                            window.open(\n                                                \"https://gephi.org/gexf/format/\"\n                                            );\n                                        }}\n                                    />\n                                </H3>\n                                <Divider />\n\n                                <CSVLink\n                                    data={this.computeGEXFFile()}\n                                    filename={\"Snapshot-GEXF.gexf\"}\n                                    className=\"btn btn-primary\"\n                                    target=\"_blank\"\n                                >\n                                    <Button>Download GEXF File</Button>\n                                </CSVLink>\n                            </Card>\n                            <br />\n                            <Card interactive={false} elevation={Elevation.ONE}>\n                                <H3>\n                                    CSV Export{\" \"}\n                                    <Button\n                                        icon=\"help\"\n                                        minimal={true}\n                                        onClick={() => {\n                                            window.open(\n                                                \"https://github.com/grp202004/PiperNet#data-import\"\n                                            );\n                                        }}\n                                    />\n                                </H3>\n\n                                <Divider />\n                                <ButtonGroup>\n                                    <CSVLink\n                                        data={this.computeNodeFile().data}\n                                        headers={this.computeNodeFile().headers}\n                                        separator={\",\"}\n                                        filename={\"Snapshot-Node.csv\"}\n                                        className=\"btn btn-primary\"\n                                        target=\"_blank\"\n                                    >\n                                        <Button>Download Node File</Button>\n                                    </CSVLink>\n                                    <Divider />\n                                    <CSVLink\n                                        data={this.computeEdgeFile().data}\n                                        headers={this.computeEdgeFile().headers}\n                                        separator={\",\"}\n                                        filename={\"Snapshot-Edge.csv\"}\n                                        className=\"btn btn-primary\"\n                                        target=\"_blank\"\n                                    >\n                                        <Button>Download Edge File</Button>\n                                    </CSVLink>\n                                </ButtonGroup>\n                            </Card>\n                        </div>\n                    )}\n                </Dialog>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { Classes, Dialog } from \"@blueprintjs/core\";\nimport { Column, Table, TableLoadingOption } from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport State from \"../../state\";\n\ninterface Props {\n    for: string;\n    children: React.ReactNode;\n}\n\nexport default observer(\n    class DataSheetDialogWrapper extends React.Component<Props, {}> {\n        state = {\n            loading: true,\n        };\n\n        renderTable() {\n            if (this.state.loading) {\n                return (\n                    <div className=\"argo-table-container\">\n                        <Table\n                            className=\"pt-bordered pt-striped\"\n                            numRows={20}\n                            loadingOptions={[\n                                TableLoadingOption.CELLS,\n                                TableLoadingOption.COLUMN_HEADERS,\n                                TableLoadingOption.ROW_HEADERS,\n                            ]}\n                        >\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                            <Column />\n                        </Table>\n                    </div>\n                );\n            } else {\n                return this.props.children;\n            }\n        }\n\n        render() {\n            return (\n                <Dialog\n                    icon=\"database\"\n                    isOpen={\n                        this.props.for === \"node\"\n                            ? State.preferences.nodeDataSheetDialogOpen\n                            : State.preferences.edgeDataSheetDialogOpen\n                    }\n                    onOpened={() => {\n                        setTimeout(() => {\n                            this.setState({\n                                loading: false,\n                            });\n                        }, 100);\n                    }}\n                    onClose={() => {\n                        if (this.props.for === \"node\") {\n                            State.preferences.nodeDataSheetDialogOpen = false;\n                        } else {\n                            State.preferences.edgeDataSheetDialogOpen = false;\n                        }\n                        this.setState({\n                            loading: true,\n                        });\n                    }}\n                    title=\"Data Sheet\"\n                    style={{ minWidth: \"80vw\" }}\n                >\n                    <div className={classnames(Classes.DIALOG_BODY)}>\n                        {this.renderTable()}\n                    </div>\n                </Dialog>\n            );\n        }\n    }\n);\n","import { Attributes } from \"graphology-types\";\nimport React from \"react\";\n\n/** Event handler that exposes the target element's value as a boolean. */\nexport function handleBooleanChange(handler: (checked: boolean) => void) {\n    return (event: React.FormEvent<HTMLElement>) =>\n        handler((event.target as HTMLInputElement).checked);\n}\n\n/** Event handler that exposes the target element's value as a string. */\nexport function handleStringChange(handler: (value: string) => void) {\n    return (event: React.FormEvent<HTMLElement>) =>\n        handler((event.target as HTMLInputElement).value);\n}\n\n/** Event handler that exposes the target element's value as an inferred generic type. */\nexport function handleValueChange<T>(handler: (value: T) => void) {\n    return (event: React.FormEvent<HTMLElement>) =>\n        handler(((event.target as HTMLInputElement).value as unknown) as T);\n}\n\n/** Event handler that exposes the target element's value as a number. */\nexport function handleNumberChange(handler: (value: number) => void) {\n    return handleStringChange((value) => handler(+value));\n}\n\nexport function stringifyNodeDetail(attributes: Attributes): string {\n    let res = \"\";\n    for (var attribute in attributes) {\n        if (\n            attributes.hasOwnProperty(attribute) &&\n            attribute !== \"_visualize\" &&\n            attribute !== \"_options\"\n        ) {\n            res += attribute + \" : \" + attributes[attribute] + \" ; \";\n        }\n    }\n\n    return res;\n}\n\nexport function parseNumberOrString(value: string): string | number {\n    let numberVal = Number(value);\n    if (isNaN(numberVal)) {\n        return value;\n    } else {\n        return numberVal;\n    }\n}\n","import React from \"react\";\nimport {\n    Alert,\n    Button,\n    ButtonGroup,\n    Callout,\n    Code,\n    Divider,\n    InputGroup,\n    Intent,\n} from \"@blueprintjs/core\";\nimport {\n    Cell,\n    Column,\n    EditableCell,\n    ICellRenderer,\n    Table,\n} from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport DataSheetDialogWrapper from \"../utils/DataSheetDialogWrapper\";\nimport {\n    handleStringChange,\n    parseNumberOrString,\n    stringifyNodeDetail,\n} from \"../utils/InputFormUtils\";\nimport { Attributes, SerializedNode } from \"graphology-types\";\n\nlet GraphNodeTable = observer(\n    class GraphNodeTable extends React.Component {\n        state = {\n            filterQuery: \"\",\n            addNodeDialogOpen: false,\n            deleteAlertOpen: false,\n            nodeToDelete: null as SerializedNode | null,\n        };\n\n        get filteredTable() {\n            let newTable: SerializedNode[] = [];\n            State.graph.rawGraph.export().nodes.forEach((node) => {\n                if (\n                    node.key\n                        .toLocaleLowerCase()\n                        .includes(this.state.filterQuery.toLocaleLowerCase()) ||\n                    this.state.filterQuery === \"\"\n                ) {\n                    newTable.push(node);\n                }\n            });\n            return newTable;\n        }\n\n        nodeProperties = State.graph.metadata.nodeProperties;\n\n        renderColumns: any = () => {\n            const columns = this.nodeProperties.map((it, i) => {\n                if (it !== \"_options\") {\n                    return (\n                        <Column\n                            name={it}\n                            cellRenderer={(\n                                rowIndex: number,\n                                columnIndex: number\n                            ) => this.renderCell(rowIndex, it)}\n                        />\n                    );\n                }\n                return null;\n            });\n            return columns.filter((element) => {\n                return element !== undefined;\n            });\n        };\n\n        renderCell = (rowIndex: number, attribute: string) => {\n            let cellAttributes = this.filteredTable[rowIndex].attributes!!;\n            let cell = cellAttributes[attribute];\n\n            return (\n                <EditableCell\n                    value={cell}\n                    onChange={(newVal) =>\n                        this.setValue(newVal, rowIndex, attribute)\n                    }\n                    onConfirm={(newVal) =>\n                        this.setValue(newVal, rowIndex, attribute)\n                    }\n                    tooltip={cell}\n                />\n            );\n        };\n\n        // if the input is a number in string, it will convert the string into number to store\n        setValue = (value: string, rowIndex: number, attribute: string) => {\n            let id = this.filteredTable[rowIndex].key;\n            State.graph.rawGraph.setNodeAttribute(\n                id,\n                attribute,\n                parseNumberOrString(value)\n            );\n        };\n\n        deleteNodeRenderer: ICellRenderer = (rowIndex) => {\n            return (\n                <Cell>\n                    <Button\n                        onClick={() => {\n                            this.setState({\n                                nodeToDelete: this.filteredTable[rowIndex],\n                                deleteAlertOpen: true,\n                            });\n                        }}\n                        icon=\"trash\"\n                        intent=\"danger\"\n                        text=\"Delete\"\n                        minimal={true}\n                    />\n                </Cell>\n            );\n        };\n\n        deleteNodeAlert = () => {\n            return (\n                <Alert\n                    cancelButtonText=\"Cancel\"\n                    confirmButtonText=\"Confirm Delete\"\n                    icon=\"trash\"\n                    intent={Intent.DANGER}\n                    isOpen={this.state.deleteAlertOpen}\n                    onCancel={() => this.setState({ deleteAlertOpen: false })}\n                    onConfirm={() => {\n                        State.graph.mutating.dropNode(\n                            this.state.nodeToDelete?.key as string\n                        );\n                        this.setState({ deleteAlertOpen: false });\n                    }}\n                    style={{ minWidth: \"60vw\" }}\n                >\n                    <p>\n                        Are you sure you want to delete the node with ID{\" \"}\n                        <Code>{this.state.nodeToDelete?.key}</Code> with\n                        attributes:\n                        <Code>\n                            {stringifyNodeDetail(\n                                this.state.nodeToDelete\n                                    ?.attributes as Attributes\n                            )}\n                        </Code>\n                        This action cannot be reversed.\n                    </p>\n                </Alert>\n            );\n        };\n\n        style = {\n            textAlign: \"center\",\n        };\n\n        render() {\n            return (\n                <div>\n                    <Callout\n                        title={\n                            \"Try to click on a cell and type in something...\"\n                        }\n                        intent=\"primary\"\n                        icon=\"edit\"\n                    >\n                        The corresponding value of a node's attribute can be\n                        modified by clicking the cell and type in\n                    </Callout>\n\n                    <ButtonGroup>\n                        <Button\n                            onClick={() => this.forceUpdate()}\n                            icon=\"refresh\"\n                            intent=\"none\"\n                            text=\"Refresh\"\n                        />\n                        <Button\n                            onClick={() => {\n                                State.preferences.AddNodeDialogOpen = true;\n                            }}\n                            icon=\"new-object\"\n                            intent=\"primary\"\n                            text=\"Add Node\"\n                        />\n                        <Divider />\n                        <InputGroup\n                            style={{ width: \"40vw\" }}\n                            asyncControl={true}\n                            leftIcon=\"search\"\n                            onChange={handleStringChange((value) => {\n                                this.setState({ filterQuery: value });\n                            })}\n                            placeholder=\"Search any Node...\"\n                            value={this.state.filterQuery}\n                            fill={true}\n                        />\n                    </ButtonGroup>\n\n                    <hr />\n\n                    <Table\n                        className=\"argo-table\"\n                        defaultRowHeight={30}\n                        numRows={this.filteredTable.length}\n                    >\n                        <Column\n                            name=\"\"\n                            cellRenderer={this.deleteNodeRenderer}\n                            //@ts-ignore\n                            style={this.style}\n                        />\n                        <Column\n                            name=\"ID\"\n                            //@ts-ignore\n                            intent={Intent.SUCCESS}\n                            cellRenderer={(rowIndex) => {\n                                let id = this.filteredTable[rowIndex].key;\n                                return <Cell>{id}</Cell>;\n                            }}\n                        />\n                        {this.renderColumns()}\n                    </Table>\n                    {this.deleteNodeAlert()}\n                </div>\n            );\n        }\n    }\n);\n\nexport default observer(\n    class NodeDataSheetDialog extends React.Component {\n        render() {\n            return (\n                <DataSheetDialogWrapper for=\"node\">\n                    <GraphNodeTable />\n                </DataSheetDialogWrapper>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { Button, FormGroup, MenuItem } from \"@blueprintjs/core\";\nimport { Tooltip2 } from \"@blueprintjs/popover2\";\nimport { Select } from \"@blueprintjs/select\";\nimport { Attributes, SerializedNode } from \"graphology-types\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport { stringifyNodeDetail } from \"./InputFormUtils\";\n\n/**\n *\n * @interface Props\n */\ninterface Props {\n    /**\n     * the text to be shown above the selectButton\n     *\n     * @type {string}\n     * @memberof Props\n     */\n    text: string;\n\n    /**\n     * function to call when a candidate is selected, will be called on every selection of candidate\n     * the {nodeId} is the id of the selected node\n     *\n     * @memberof Props\n     */\n    onChange: (nodeId: string) => void;\n}\n\n/**\n * this component can be used to choose the node among all the nodes, with basic search filters available\n * to use it, you have to specify the text shown above the selectButton as well as the onChange function to call when a candidate is selected\n */\nexport default observer(\n    class NodeChooser extends React.Component<Props, {}> {\n        state = {\n            select: \"Choose \" + this.props.text,\n        };\n\n        render() {\n            return (\n                <FormGroup\n                    label={this.props.text}\n                    labelFor=\"text-input\"\n                    labelInfo=\"(required)\"\n                >\n                    <Select\n                        filterable={true}\n                        items={State.graph.rawGraph.export().nodes}\n                        itemPredicate={(\n                            query: string,\n                            item: SerializedNode<Attributes>\n                        ) => {\n                            return item.key.includes(query);\n                        }}\n                        itemRenderer={(item: SerializedNode<Attributes>) => {\n                            return (\n                                <Tooltip2\n                                    content={stringifyNodeDetail(\n                                        item.attributes ?? {}\n                                    )}\n                                >\n                                    <MenuItem\n                                        key={item.key}\n                                        text={item.key}\n                                        onClick={() => {\n                                            let key = item.key;\n                                            this.setState({ select: key });\n                                            this.props.onChange(key);\n                                        }}\n                                    />\n                                </Tooltip2>\n                            );\n                        }}\n                        noResults={\n                            <MenuItem disabled={true} text=\"No results.\" />\n                        }\n                        onItemSelect={() => {}}\n                    >\n                        <Button\n                            text={this.state.select}\n                            rightIcon=\"double-caret-vertical\"\n                        />\n                    </Select>\n                </FormGroup>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport {\n    Alert,\n    Button,\n    ButtonGroup,\n    Callout,\n    Classes,\n    Code,\n    Dialog,\n    Divider,\n    InputGroup,\n    Intent,\n} from \"@blueprintjs/core\";\nimport {\n    Cell,\n    Column,\n    ICellRenderer,\n    RenderMode,\n    Table,\n} from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport DataSheetDialogWrapper from \"../utils/DataSheetDialogWrapper\";\nimport { Attributes, SerializedEdge } from \"graphology-types\";\nimport { handleStringChange } from \"../utils/InputFormUtils\";\nimport NodeChooser from \"../utils/NodeChooser\";\n\nlet GraphEdgeTable = observer(\n    class GraphEdgeTable extends React.Component {\n        state = {\n            addEdgeDialogOpen: false,\n            deleteAlertOpen: false,\n            edgeToDelete: null as null | SerializedEdge<Attributes>,\n            filterQuery: null as null | string,\n            chosenSource: null as null | string,\n            chosenTarget: null as null | string,\n        };\n\n        get filteredTable() {\n            let newTable: SerializedEdge<Attributes>[] = [];\n            State.graph.rawGraph.export().edges.forEach((edge) => {\n                if (\n                    !this.state.filterQuery ||\n                    edge.source\n                        .toLocaleLowerCase()\n                        .includes(this.state.filterQuery.toLocaleLowerCase()) ||\n                    edge.target\n                        .toLocaleLowerCase()\n                        .includes(this.state.filterQuery.toLocaleLowerCase()) ||\n                    this.state.filterQuery === \"\"\n                ) {\n                    newTable.push(edge);\n                }\n            });\n            return newTable;\n        }\n\n        deleteEdgeRenderer: ICellRenderer = (rowIndex) => {\n            return (\n                <Cell>\n                    <Button\n                        onClick={() => {\n                            this.setState({\n                                edgeToDelete: this.filteredTable[rowIndex],\n                                deleteAlertOpen: true,\n                            });\n                        }}\n                        icon=\"trash\"\n                        intent=\"danger\"\n                        text=\"Delete\"\n                        minimal={true}\n                    />\n                </Cell>\n            );\n        };\n\n        deleteEdgeAlert = () => {\n            return (\n                <Alert\n                    cancelButtonText=\"Cancel\"\n                    confirmButtonText=\"Confirm Delete\"\n                    icon=\"trash\"\n                    intent={Intent.DANGER}\n                    isOpen={this.state.deleteAlertOpen}\n                    onCancel={() => this.setState({ deleteAlertOpen: false })}\n                    onConfirm={() => {\n                        State.graph.mutating.dropEdge(\n                            this.state.edgeToDelete?.key as string\n                        );\n                        this.setState({ deleteAlertOpen: false });\n                    }}\n                >\n                    <p>\n                        Are you sure you want to delete the edge with ID{\" \"}\n                        <Code>{this.state.edgeToDelete?.key}</Code> from Node ID{\" \"}\n                        <Code>{this.state.edgeToDelete?.source}</Code> to Node\n                        ID <Code>{this.state.edgeToDelete?.target}</Code>. This\n                        action cannot be reversed.\n                    </p>\n                </Alert>\n            );\n        };\n\n        addEdgeDialog = () => {\n            return (\n                <Dialog\n                    isOpen={this.state.addEdgeDialogOpen}\n                    icon=\"new-link\"\n                    onClose={() => this.setState({ addEdgeDialogOpen: false })}\n                    onClosed={() =>\n                        this.setState({\n                            chosenSource: null,\n                            chosenTarget: null,\n                        })\n                    }\n                    title=\"Add Edge\"\n                >\n                    <div className={Classes.DIALOG_BODY}>\n                        <p>\n                            <strong>\n                                You can only add unique undirected edges to the\n                                graph dataset.\n                            </strong>\n                        </p>\n                        <p>\n                            A <em>UNIQUE</em> edge means there should only exist\n                            one edge that connects between the source and the\n                            target.\n                        </p>\n                        <ButtonGroup fill={true}>\n                            <NodeChooser\n                                text=\"Source Node\"\n                                onChange={(value) => {\n                                    this.setState({ chosenSource: value });\n                                }}\n                            />\n                            <Divider />\n                            <NodeChooser\n                                text=\"Target Node\"\n                                onChange={(value) => {\n                                    this.setState({ chosenTarget: value });\n                                }}\n                            />\n                        </ButtonGroup>\n                        <p>New edges are added to the end of the table.</p>\n                        {!this.canImport && (\n                            <Callout\n                                title=\"Invalid Edge\"\n                                intent=\"danger\"\n                                icon=\"edit\"\n                            >\n                                The new edge is invalid because either this is a\n                                edge that already in the graph or cannot form a\n                                valid undirected edge\n                            </Callout>\n                        )}\n                    </div>\n                    <div className={Classes.DIALOG_FOOTER}>\n                        <div className={Classes.DIALOG_FOOTER_ACTIONS}>\n                            <Button\n                                onClick={() =>\n                                    this.setState({ addEdgeDialogOpen: false })\n                                }\n                            >\n                                Cancel\n                            </Button>\n                            <Button\n                                intent={Intent.PRIMARY}\n                                onClick={() => {\n                                    State.graph.mutating.addEdge(\n                                        this.state.chosenSource!,\n                                        this.state.chosenTarget!\n                                    );\n                                    this.setState({ addEdgeDialogOpen: false });\n                                }}\n                                disabled={!this.canImport}\n                            >\n                                Confirm\n                            </Button>\n                        </div>\n                    </div>\n                </Dialog>\n            );\n        };\n\n        get canImport(): boolean {\n            if (!this.state.chosenSource || !this.state.chosenTarget) {\n                return false;\n            } else if (this.state.chosenSource === this.state.chosenTarget) {\n                return false;\n            } else {\n                return (\n                    !State.graph.rawGraph.hasEdge(\n                        this.state.chosenSource,\n                        this.state.chosenTarget\n                    ) &&\n                    !State.graph.rawGraph.hasEdge(\n                        this.state.chosenTarget,\n                        this.state.chosenSource\n                    )\n                );\n            }\n        }\n\n        style = {\n            textAlign: \"center\",\n        };\n\n        render() {\n            return (\n                <div>\n                    <ButtonGroup>\n                        <Button\n                            onClick={() => this.forceUpdate()}\n                            icon=\"refresh\"\n                            intent=\"none\"\n                            text=\"Refresh\"\n                        />\n                        <Button\n                            onClick={() =>\n                                this.setState({ addEdgeDialogOpen: true })\n                            }\n                            icon=\"new-link\"\n                            intent=\"primary\"\n                            text=\"Add Edge\"\n                        />\n                        <Divider />\n                        <InputGroup\n                            style={{ width: \"40vw\" }}\n                            asyncControl={true}\n                            leftIcon=\"search\"\n                            onChange={handleStringChange((value) => {\n                                this.setState({ filterQuery: value });\n                            })}\n                            placeholder=\"Search any Source or Target of an Edge...\"\n                            value={this.state.filterQuery ?? \"\"}\n                        />\n                    </ButtonGroup>\n\n                    <hr />\n                    <Table\n                        className=\"argo-table\"\n                        numRows={this.filteredTable.length}\n                        defaultRowHeight={30}\n                        renderMode={RenderMode.NONE}\n                    >\n                        <Column\n                            name=\"\"\n                            cellRenderer={this.deleteEdgeRenderer}\n                            //@ts-ignore\n                            style={this.style}\n                        />\n                        <Column\n                            name=\"Source\"\n                            //@ts-ignore\n                            intent={Intent.PRIMARY}\n                            cellRenderer={(rowIndex) => {\n                                return (\n                                    <Cell>\n                                        {this.filteredTable[rowIndex].source}\n                                    </Cell>\n                                );\n                            }}\n                        />\n                        <Column\n                            name=\"Target\"\n                            //@ts-ignore\n                            intent={Intent.PRIMARY}\n                            cellRenderer={(rowIndex) => {\n                                return (\n                                    <Cell>\n                                        {this.filteredTable[rowIndex].target}\n                                    </Cell>\n                                );\n                            }}\n                        />\n                    </Table>\n                    {this.deleteEdgeAlert()}\n                    {this.addEdgeDialog()}\n                </div>\n            );\n        }\n    }\n);\n\nexport default observer(\n    class EdgeDataSheetDialog extends React.Component {\n        render() {\n            return (\n                <DataSheetDialogWrapper for=\"edge\">\n                    <GraphEdgeTable />\n                </DataSheetDialogWrapper>\n            );\n        }\n    }\n);\n","import {\n    Button,\n    Card,\n    Elevation,\n    FormGroup,\n    H5,\n    InputGroup,\n} from \"@blueprintjs/core\";\nimport { Tooltip2 } from \"@blueprintjs/popover2\";\nimport { observer } from \"mobx-react\";\nimport React from \"react\";\nimport State from \"../../state\";\nimport { Attributes } from \"graphology-types\";\nimport { handleStringChange, parseNumberOrString } from \"./InputFormUtils\";\n\n/**\n *\n * @interface Props\n */\ninterface Props {\n    /**\n     * function to call when a new node is successfully added\n     * the {nodeId} is the id of the newly added node, {attributes} is the attributes of the newly added node\n     *\n     * @memberof Props\n     */\n    onAdded: (nodeId: string, attributes: Attributes) => void;\n}\n\nexport default observer(\n    class NodeAdder extends React.Component<Props, {}> {\n        state = {\n            newNodeId: \"\",\n            attributes: {} as Attributes,\n        };\n\n        get canImport() {\n            return (\n                !State.graph.rawGraph.hasNode(this.state.newNodeId) &&\n                this.state.newNodeId !== \"\"\n            );\n        }\n\n        canImportTag = () => {\n            return this.canImport ? (\n                <Tooltip2\n                    content={\n                        \"This Node Id is not used by any existing node yet\"\n                    }\n                    intent=\"success\"\n                >\n                    <Button icon=\"tick\" intent=\"success\" minimal={true} />\n                </Tooltip2>\n            ) : (\n                <Tooltip2\n                    content={\n                        \"This Node Id is currently in use by other nodes, try with another one instead\"\n                    }\n                    intent=\"warning\"\n                >\n                    <Button icon=\"cross\" intent=\"warning\" minimal={true} />\n                </Tooltip2>\n            );\n        };\n\n        renderAttributesForm = (attributes: string[]) => {\n            return attributes.map((attribute) => {\n                if (attribute !== \"_options\" && attribute !== \"_visualize\") {\n                    return (\n                        <FormGroup label={attribute}>\n                            <InputGroup\n                                asyncControl={true}\n                                placeholder={\n                                    \"Enter the value for attribute: \" +\n                                    attribute\n                                }\n                                onChange={handleStringChange((value) => {\n                                    let newValue = this.state.attributes;\n                                    newValue[attribute] = parseNumberOrString(\n                                        value\n                                    );\n                                    this.setState({ attributes: newValue });\n                                })}\n                                value={this.state.attributes[attribute]}\n                            />\n                        </FormGroup>\n                    );\n                } else {\n                    return null;\n                }\n            });\n        };\n\n        render() {\n            return (\n                <Card elevation={Elevation.ONE}>\n                    <FormGroup label=\"New Node ID\" labelInfo=\"(required)\">\n                        <InputGroup\n                            autoFocus={true}\n                            asyncControl={true}\n                            placeholder=\"Enter the new Node Id...\"\n                            intent={this.canImport ? \"success\" : \"warning\"}\n                            rightElement={this.canImportTag()}\n                            onChange={handleStringChange((value) =>\n                                this.setState({ newNodeId: value })\n                            )}\n                            value={this.state.newNodeId}\n                        />\n                    </FormGroup>\n                    <Card elevation={Elevation.ONE}>\n                        <H5>Attributes</H5>\n                        {this.renderAttributesForm(\n                            State.graph.metadata.nodeProperties\n                        )}\n                    </Card>\n                    <hr />\n                    <Button\n                        intent=\"primary\"\n                        onClick={() => {\n                            State.graph.decorateRawNode(\n                                this.state.newNodeId,\n                                this.state.attributes\n                            );\n                            State.graph.mutating.addNode(\n                                this.state.newNodeId,\n                                this.state.attributes\n                            );\n                            this.props.onAdded(\n                                this.state.newNodeId,\n                                this.state.attributes\n                            );\n                            State.preferences.AddNodeDialogOpen = false;\n                            // State.preferences.rightClickBackgroundPanelOpen = false;\n                            // this.forceUpdate();\n                            // State.graphDelegate.cameraFocusOn(this.state.newNodeId);\n                        }}\n                        disabled={!this.canImport}\n                    >\n                        Confirm\n                    </Button>\n                </Card>\n            );\n        }\n        componentDidMount = () => {\n            State.graph.metadata.nodeProperties.forEach((prop) => {\n                let newValue = this.state.attributes;\n                newValue[prop] = \"\";\n                this.setState({ attributes: newValue });\n            });\n        };\n    }\n);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Classes, Dialog, Tag } from \"@blueprintjs/core\";\nimport NodeAdder from \"../utils/NodeAdder\";\nimport State from \"../../state\";\n\nexport default observer(\n    class AddNodeDialog extends React.Component {\n        render() {\n            return (\n                <Dialog\n                    isOpen={State.preferences.AddNodeDialogOpen}\n                    icon=\"new-object\"\n                    onClose={() => {\n                        State.preferences.AddNodeDialogOpen = false;\n                    }}\n                    title=\"Add Node\"\n                >\n                    <div className={Classes.DIALOG_BODY}>\n                        <p>\n                            <strong>\n                                You can only add node with unique node id to the\n                                graph dataset.\n                            </strong>\n                        </p>\n                        <p>\n                            A <em>UNIQUE</em> node means there should only exist\n                            one node that has the respective node id.\n                        </p>\n                        <Tag>New edges are added to the end of the table</Tag>\n                        <hr />\n                        <NodeAdder\n                            onAdded={() => {\n                                this.setState({ addNodeDialogOpen: false });\n                                this.forceUpdate();\n                            }}\n                        />\n                    </div>\n                </Dialog>\n            );\n        }\n    }\n);\n","import React from \"react\";\n// import PreferencesDialog from \"./PreferencesDialog\";\nimport ImportCSVDialog from \"./dialogs/ImportCSVDialog\";\nimport ImportGEXFDialog from \"./dialogs/ImportGEXFDialog\";\nimport ImportSamplesDialog from \"./dialogs/ImportGEXFDialog\";\nimport ExportDialog from \"./dialogs/ExportDialog\";\n// import ProjectDetailDialog from \"./ProjectDetailDialog\";\n// import RenameSnapshotDialog from \"./RenameSnapshotDialog\";\n// import StatisticsDialog from './StatisticsDialog';\n// import HelpDialog from './HelpDialog';\n// import NeighborDialog from './NeighborDialog';\nimport NodeDataSheetDialog from \"./dialogs/NodeDataSheetDialog\";\nimport EdgeDataSheetDialog from \"./dialogs/EdgeDataSheetDialog\";\nimport AddNodeDialog from \"./dialogs/AddNodeDialog\";\n\nexport default class Dialogs extends React.Component {\n    render() {\n        return (\n            <div style={{ display: \"none\" }}>\n                {/* <PreferencesDialog /> */}\n                <ImportCSVDialog />\n                <ImportGEXFDialog />\n                <ImportSamplesDialog />\n                {/*\n                <ProjectDetailDialog />\n                <RenameSnapshotDialog />\n                <StatisticsDialog />\n                <HelpDialog />\n                <NeighborDialog />\\\n                */}\n                <AddNodeDialog />\n                <NodeDataSheetDialog />\n                <EdgeDataSheetDialog />\n                <ExportDialog />\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport ForceGraph3D, {\n    ForceGraphMethods,\n    NodeObject,\n} from \"react-force-graph-3d\";\nimport ComponentRef from \"../ComponentRef\";\nimport State from \"../../state\";\n\ninterface Props {\n    controlType: \"trackball\" | \"orbit\" | \"fly\";\n}\n\nexport default observer(\n    class ThreeJSVis extends React.Component<Props, {}> {\n        state = {\n            visualizationGraph: State.graphDelegate.visualizationGraph(),\n        };\n        // @ts-ignore\n        graphRef: React.MutableRefObject<ForceGraphMethods> = React.createRef();\n\n        get graphMethods(): ForceGraphMethods {\n            return this.graphRef.current;\n        }\n\n        getNodeId(node: NodeObject): string {\n            let nodeId: string;\n            if (node.id as string) {\n                nodeId = node.id as string;\n            } else {\n                nodeId = (node.id as number).toString();\n            }\n            return nodeId;\n        }\n\n        graphDelegate = State.graphDelegate;\n\n        nodeHover = (\n            node: NodeObject | null,\n            previousNode: NodeObject | null\n        ) => {\n            if (State.search.isPreviewing) return;\n            if (node != null && node !== previousNode) {\n                State.graph.currentlyHoveredId = this.getNodeId(\n                    node as NodeObject\n                );\n            }\n        };\n\n        // ref of State.graph.selectedNodes\n        selectedNodes: string[] = State.graph.selectedNodes;\n\n        nodeSelect = (node: NodeObject, event: MouseEvent) => {\n            let nodeId = this.getNodeId(node as NodeObject);\n            if (event.ctrlKey || event.shiftKey) {\n                // multi-selection\n                if (this.selectedNodes.includes(nodeId)) {\n                    let index = this.selectedNodes.indexOf(nodeId);\n                    if (index > -1) {\n                        this.selectedNodes.splice(index, 1);\n                    }\n                } else {\n                    this.selectedNodes.push(nodeId);\n                }\n            } else {\n                // single-selection\n                // TODO\n            }\n            this.graphMethods.refresh(); // update color of selected nodes\n        };\n\n        nodeRightClick = (node: NodeObject, event: MouseEvent) => {\n            State.graph.selectedNode = node.id as string;\n            State.preferences.rightClickPositionX = event.x;\n            State.preferences.rightClickPositionY = event.y;\n            State.preferences.rightClickBackgroundPanelOpen = false;\n            State.preferences.rightClickNodePanelOpen = true;\n        };\n\n        backgroundRightClick = (event: MouseEvent) => {\n            State.preferences.rightClickPositionX = event.x;\n            State.preferences.rightClickPositionY = event.y;\n            State.preferences.rightClickNodePanelOpen = false;\n            State.preferences.rightClickBackgroundPanelOpen = true;\n        };\n\n        renderGraph = () => {\n            if (State.preferences.view === \"3D\") {\n                return (\n                    <ForceGraph3D\n                        ref={this.graphRef}\n                        graphData={this.state.visualizationGraph}\n                        nodeResolution={State.css.nodeResolution}\n                        nodeVisibility={this.graphDelegate.nodeVisibility}\n                        linkVisibility={this.graphDelegate.linkVisibility}\n                        onNodeDragEnd={(node) => {\n                            node.fx = node.x;\n                            node.fy = node.y;\n                            node.fz = node.z;\n                        }}\n                        onBackgroundRightClick={this.backgroundRightClick}\n                        linkWidth={(link) => {\n                            return State.graphDelegate.ifHighlightLink(\n                                link,\n                                2,\n                                0.1,\n                                1\n                            );\n                        }}\n                        linkColor={(link) => {\n                            return State.graphDelegate.ifHighlightLink(\n                                link,\n                                \"orangered\",\n                                \"white\",\n                                \"white\"\n                            );\n                        }}\n                        linkDirectionalParticles={(link) => {\n                            return State.graphDelegate.ifHighlightLink(\n                                link,\n                                4,\n                                0,\n                                0\n                            );\n                        }}\n                        linkDirectionalParticleWidth={4}\n                        onEngineTick={() =>\n                            this.graphDelegate.clusterDelegation()\n                        }\n                        nodeColor={(node) =>\n                            this.selectedNodes.includes(this.getNodeId(node))\n                                ? \"yellow\"\n                                : \"grey\"\n                        }\n                        onNodeClick={this.nodeSelect}\n                        onNodeRightClick={this.nodeRightClick}\n                        onBackgroundClick={() => {\n                            State.preferences.rightClickNodePanelOpen = false;\n                            State.preferences.rightClickBackgroundPanelOpen = false;\n                        }}\n                        onNodeHover={this.nodeHover}\n                        controlType={this.props.controlType}\n                    />\n                );\n                // } else {\n                //     return (\n                //         <ForceGraph2D\n                //             graphData={State.graph.adapterGraph}\n                //             dagMode={\"td\"}\n                //             // dagLevelDistance={300}\n                //             // backgroundColor=\"#101020\"\n                //             nodeRelSize={1}\n                //             // nodeId=\"path\"\n                //             // nodeVal={(node) => 100 / (node.level + 1)}\n                //             // nodeLabel=\"path\"\n                //             // nodeAutoColorBy=\"module\"\n                //             // linkDirectionalParticles={2}\n                //             // linkDirectionalParticleWidth={2}\n                //             d3VelocityDecay={0.3}\n                //         />\n                //     );\n            }\n        };\n\n        render() {\n            return <div>{this.renderGraph()}</div>;\n        }\n\n        updateVisualizationGraph() {\n            this.setState({\n                visualizationGraph: State.graphDelegate.visualizationGraph(),\n            });\n        }\n\n        componentDidMount() {\n            this.graphDelegate.mountDelegateMethods(this.graphMethods);\n            ComponentRef.visualizer = this;\n        }\n    }\n);\n","import React from \"react\";\nimport {\n    Button,\n    Classes,\n    Popover,\n    PopoverInteractionKind,\n    RangeSlider,\n    Slider,\n} from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport { Select } from \"@blueprintjs/select\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport pluralize from \"pluralize\";\nimport Collapsable from \"../utils/Collapsable\";\nimport SimpleSelect, { CommonItemRenderer } from \"../utils/SimpleSelect\";\nimport State from \"../../state\";\n\nexport default observer(\n    class GlobalPanel extends React.Component {\n        state = {\n            timeOutRef: null,\n            sizeOptionOpen: false,\n            colorOptionOpen: false,\n            shapeOptionOpen: false,\n        };\n\n        render() {\n            return (\n                <div>\n                    {/* Collapsable Option: Color */}\n                    <Collapsable\n                        name=\"Color\"\n                        isOpen={this.state.colorOptionOpen}\n                        onToggle={() =>\n                            this.setState({\n                                colorOptionOpen: !this.state.colorOptionOpen,\n                            })\n                        }\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            {/* color : color by */}\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Color By:\n                                    <span style={{ float: \"right\" }}>\n                                        <SimpleSelect\n                                            items={\n                                                [\"item1\", \"item2\"]\n                                                // State.graph.allPropertiesKeyList\n                                            }\n                                            onSelect={\n                                                (it) =>\n                                                    console.log(\n                                                        \"color:color by\"\n                                                    )\n                                                // State.graph.nodes.colorBy = it\n                                            }\n                                            text={\n                                                \"1\" //for test\n                                                // State.graph.nodes.colorBy\n                                            }\n                                        />\n                                    </span>\n                                </p>\n                            </section>\n\n                            {/* color:scale type  */}\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Scale Type:\n                                    <span style={{ float: \"right\" }}>\n                                        <SimpleSelect\n                                            items={\n                                                [\"item1\", \"item2\"]\n                                                // Object.keys(scales)\n                                            }\n                                            onSelect={\n                                                (it) =>\n                                                    console.log(\n                                                        \"color:scale type\"\n                                                    )\n                                                // State.graph.nodes.color.scale = it\n                                            }\n                                            text={\n                                                \"2\"\n                                                // State.graph.nodes.color.scale\n                                            }\n                                        />\n                                    </span>\n                                </p>\n                            </section>\n\n                            {/* the gradient section in color */}\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Gradient: &nbsp;\n                                    <span style={{ float: \"right\" }}>\n                                        {/* left colorpicker */}\n                                        <Popover\n                                            // placement=\"bottom\"\n                                            // modifiers={{\n                                            //   preventOverflow: {\n                                            //     enabled: false,\n                                            //   },\n                                            // }}\n                                            interactionKind={\n                                                PopoverInteractionKind.CLICK\n                                            }\n                                            popoverClassName=\"bp3-popover-content-sizing\"\n                                            position={\"auto\"}\n                                        >\n                                            <Button\n                                                text=\"  \"\n                                                // style={{\n                                                //   // backgroundImage: \"inherit\",\n                                                //   // backgroundColor: State.graph.nodes.color.from\n                                                // }}\n                                            />\n                                            <SketchPicker\n                                                color={\n                                                    \"#ffffff\" //used for test\n                                                    // State.graph.nodes.color.from\n                                                }\n                                                onChange={() => {\n                                                    console.log(\n                                                        \"gradient section first colorpicker onchange\"\n                                                    );\n                                                    // it => (State.graph.nodes.color.from = it.hex)\n                                                }}\n                                            />\n                                        </Popover>\n                                        {/* arrow  */}\n                                        &nbsp; &#8594; &nbsp;\n                                        {/* right colorpicker */}\n                                        <Popover\n                                            //previous!!\n                                            // placement=\"bottom\"\n                                            // modifiers={{\n                                            //   preventOverflow: {\n                                            //     enabled: false,\n                                            //   },\n                                            // }}\n                                            interactionKind={\n                                                PopoverInteractionKind.CLICK\n                                            }\n                                            popoverClassName=\"bp3-popover-content-sizing\"\n                                            position={\"auto\"}\n                                        >\n                                            <Button\n                                                text=\"  \"\n                                                style={{\n                                                    backgroundImage: \"inherit\",\n                                                    // backgroundColor: State.graph.nodes.color.to\n                                                }}\n                                            />\n                                            <SketchPicker\n                                                color={\n                                                    \"#ffffff\" //used for test\n                                                    // State.graph.nodes.color.to\n                                                }\n                                                onChange={() => {\n                                                    console.log(\n                                                        \"gradient section second colorpicker onchange\"\n                                                    );\n                                                    // it => (State.graph.nodes.color.to = it.hex)\n                                                }}\n                                            />\n                                        </Popover>\n                                    </span>\n                                </p>\n                            </section>\n                            {/* color : gradient preview */}\n                            <section style={{ marginTop: \"-1em\" }}>\n                                <svg\n                                    width=\"100%\"\n                                    height=\"10\"\n                                    className=\"gradient-preview\"\n                                >\n                                    <defs>\n                                        <linearGradient\n                                            x1=\"0%\"\n                                            y1=\"50%\"\n                                            x2=\"100%\"\n                                            y2=\"50%\"\n                                            id=\"theGradient\"\n                                        >\n                                            <stop\n                                                stopColor={\n                                                    \"#ffffff\" //used for test\n                                                    // State.graph.nodes.color.from\n                                                }\n                                                stopOpacity=\"1\"\n                                                offset=\"0%\"\n                                            />\n                                            <stop\n                                                stopColor={\n                                                    \"#ffffff\" //used for test\n                                                    // State.graph.nodes.color.to\n                                                }\n                                                stopOpacity=\"1\"\n                                                offset=\"100%\"\n                                            />\n                                        </linearGradient>\n                                    </defs>\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        width=\"100%\"\n                                        height=\"50\"\n                                        fill=\"url(#theGradient)\"\n                                    />\n                                </svg>\n                            </section>\n                        </div>\n                    </Collapsable>\n\n                    {/* Collapsable Option: Size */}\n                    <Collapsable\n                        name=\"Size\"\n                        isOpen={this.state.sizeOptionOpen}\n                        onToggle={() =>\n                            this.setState({\n                                sizeOptionOpen: !this.state.sizeOptionOpen,\n                            })\n                        }\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            {/* size : scale by  */}\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Scale By:\n                                    <span style={{ float: \"right\" }}>\n                                        <Select\n                                            items={[\"item1\", \"item2\"]}\n                                            itemRenderer={CommonItemRenderer}\n                                            filterable={false}\n                                            onItemSelect={(item) => {\n                                                console.log(\n                                                    \"size : scale by , component :select\"\n                                                );\n                                                // it => (State.graph.nodes.sizeBy = it)\n                                            }}\n                                        >\n                                            <Button\n                                                text={\n                                                    \"btn1\"\n                                                    // State.graph.nodes.sizeBy\n                                                }\n                                            />\n                                        </Select>\n                                    </span>\n                                </p>\n                            </section>\n                            {/* size : scale type */}\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Scale Type:\n                                    <span style={{ float: \"right\" }}>\n                                        <Select\n                                            items={\n                                                [\"item1\", \"item2\"]\n                                                //Object.keys(scales)\n                                            }\n                                            itemRenderer={CommonItemRenderer}\n                                            filterable={false}\n                                            onItemSelect={(item) => {\n                                                console.log(\n                                                    \"size : scale type component: select\"\n                                                );\n                                                // it => (State.graph.nodes.size.scale = it)\n                                            }}\n                                        >\n                                            <Button\n                                                text={\n                                                    \"btn2\"\n                                                    // State.graph.nodes.size.scale\n                                                }\n                                            />\n                                        </Select>\n                                    </span>\n                                </p>\n                            </section>\n                            Size Range:\n                            <br />\n                            <RangeSlider\n                                min={1}\n                                max={20}\n                                stepSize={0.1}\n                                labelStepSize={5}\n                                // onChange={([a, b]) => {\n                                //   runInAction(\"update scale\", () => {\n                                //     State.graph.nodes.size.min = a;\n                                //     State.graph.nodes.size.max = b;\n                                //   });\n                                // }}\n                                // value={[\n                                //   State.graph.nodes.size.min,\n                                //   State.graph.nodes.size.max\n                                // ]}\n                            />\n                        </div>\n                    </Collapsable>\n\n                    {/* Collapsable Option: Shape */}\n                    <Collapsable\n                        name=\"Shape\"\n                        isOpen={this.state.shapeOptionOpen}\n                        onToggle={() =>\n                            this.setState({\n                                shapeOptionOpen: !this.state.shapeOptionOpen,\n                            })\n                        }\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            {/* shape : node shape */}\n                            <section>\n                                {\" \"}\n                                <p style={{ textAlign: \"left\" }}>\n                                    Node Shape:\n                                    <span style={{ float: \"right\" }}>\n                                        <Select\n                                            items={[\n                                                \"circle\",\n                                                \"square\",\n                                                \"triangle\",\n                                                \"pentagon\",\n                                                \"hexagon\",\n                                                \"octagon\",\n                                            ]}\n                                            itemRenderer={CommonItemRenderer}\n                                            filterable={false}\n                                            onItemSelect={(item) => {\n                                                console.log(\n                                                    \" shape : node shape component: select\"\n                                                );\n                                                // it => (State.graph.nodes.shape = it)\n                                            }}\n                                        >\n                                            <Button\n                                                text={\n                                                    \"btn3\"\n                                                    // State.graph.nodes.shape\n                                                }\n                                            />\n                                        </Select>\n                                    </span>\n                                </p>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Node Resolution :\n                                    <Slider\n                                        min={6}\n                                        max={20}\n                                        stepSize={2}\n                                        onChange={(value) => {\n                                            State.css.nodeResolution = value;\n                                        }}\n                                        value={State.css.nodeResolution}\n                                        initialValue={12}\n                                    />\n                                </p>\n                            </section>\n                        </div>\n                    </Collapsable>\n                    <br />\n                    <small>\n                        {/* {pluralize(\"node\", State.graph.overrides.size, true)}<span> </span> */}\n                        {pluralize(\"node\", 0, true)}\n                        <span> </span>\n                        have override styles. &nbsp;\n                        <Button\n                            className={\"pt-small\"}\n                            text=\"Clear\"\n                            // onClick={() => (State.graph.overrides = new Map())}\n                        />\n                    </small>\n                </div>\n            );\n        }\n    }\n);\n// export default GlobalPanel;\n","import React, { ReactNode } from \"react\";\nimport { Classes, Collapse, Switch } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\n\ninterface Props {\n    name: string;\n    isOpen: boolean;\n    onToggle: (event: React.FormEvent<HTMLInputElement>) => void;\n    children: ReactNode;\n}\n\nexport default observer(\n    class SwitchCollapsable extends React.Component<Props, {}> {\n        render() {\n            return (\n                <div>\n                    <Switch\n                        label={this.props.name}\n                        checked={this.props.isOpen}\n                        onChange={this.props.onToggle}\n                        className={Classes.ALIGN_RIGHT}\n                    />\n                    <Collapse isOpen={this.props.isOpen}>\n                        {this.props.children}\n                    </Collapse>\n                </div>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport {\n    Button,\n    Classes,\n    Popover,\n    PopoverInteractionKind,\n    Position,\n    Slider,\n} from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport { Select } from \"@blueprintjs/select\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport SwitchCollapsable from \"../utils/SwitchCollapsable\";\nimport { CommonItemRenderer } from \"../utils/SimpleSelect\";\n\nexport default observer(\n    class SelectionPanel extends React.Component {\n        state = {\n            shapeOptionOpen: false,\n            sizeOptionOpen: false,\n            colorOptionOpen: false,\n            labelOptionOpen: false,\n        };\n\n        // twoLayerUpdate = (nodeId, key, value) => {\n        //   if (!State.graph.overrides.has(nodeId)) {\n        //     State.graph.overrides.set(nodeId, new Map());\n        //   }\n        //   const nodeAttrs = State.graph.overrides.get(nodeId);\n        //   if (value !== null) {\n        //     nodeAttrs.set(key, value);\n        //   } else {\n        //     nodeAttrs.delete(key);\n        //     if (nodeAttrs.size === 0) {\n        //       State.graph.overrides.delete(nodeId);\n        //     }\n        //   }\n        // };\n\n        // batchTwoLayerUpdate = (nodes, key, value) => {\n        //   runInAction(\"update entire selection\", () => {\n        //     nodes.forEach(n => this.twoLayerUpdate(n.data.ref.id, key, value));\n        //   });\n        // };\n\n        render() {\n            return (\n                <div>\n                    <br />\n                    <SwitchCollapsable\n                        name=\"Override Size\"\n                        isOpen={this.state.sizeOptionOpen}\n                        onToggle={() => {\n                            if (this.state.sizeOptionOpen) {\n                                this.setState(\n                                    {\n                                        sizeOptionOpen: false,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"size\",\n                                    //     null\n                                    //   )\n                                );\n                            } else {\n                                this.setState(\n                                    {\n                                        sizeOptionOpen: true,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"size\",\n                                    //     State.graph.overrideConfig.size\n                                    //   )\n                                );\n                            }\n                        }}\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            <Slider\n                                min={1}\n                                max={20}\n                                stepSize={0.1}\n                                labelStepSize={5}\n                                // onChange={it => {\n                                //   State.graph.overrideConfig.size = it;\n                                //   this.batchTwoLayerUpdate(\n                                //     State.graph.selectedNodes,\n                                //     \"size\",\n                                //     it\n                                //   );\n                                // }}\n                                // value={State.graph.overrideConfig.size}\n                                value={2} //set for test\n                            />\n                        </div>\n                    </SwitchCollapsable>\n                    <br />\n                    <SwitchCollapsable\n                        name=\"Override Color\"\n                        isOpen={this.state.colorOptionOpen}\n                        onToggle={() => {\n                            if (this.state.colorOptionOpen) {\n                                this.setState(\n                                    {\n                                        colorOptionOpen: false,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"color\",\n                                    //     null\n                                    //   )\n                                );\n                            } else {\n                                this.setState(\n                                    {\n                                        colorOptionOpen: true,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"color\",\n                                    //     State.graph.overrideConfig.color\n                                    //   )\n                                );\n                            }\n                        }}\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            <section>\n                                {\" \"}\n                                <p style={{ textAlign: \"left\" }}>\n                                    Choose Color:\n                                    <span style={{ float: \"right\" }}>\n                                        <Popover\n                                            //previous!!\n                                            // placement=\"bottom\"\n                                            // modifiers={{\n                                            //   preventOverflow: {\n                                            //     enabled: false,\n                                            //   },\n                                            // }}\n                                            interactionKind={\n                                                PopoverInteractionKind.CLICK\n                                            }\n                                            popoverClassName=\"bp3-popover-content-sizing\"\n                                            position={Position.RIGHT}\n                                        >\n                                            <Button\n                                                text=\"  \"\n                                                style={{\n                                                    backgroundImage: \"inherit\",\n                                                    // backgroundColor: State.graph.overrideConfig.color\n                                                }}\n                                            />\n                                            <SketchPicker\n                                            // color={State.graph.overrideConfig.color}\n                                            // onChange={it => {\n                                            //   State.graph.overrideConfig.color = it.hex;\n                                            //   this.batchTwoLayerUpdate(\n                                            //     State.graph.selectedNodes,\n                                            //     \"color\",\n                                            //     it.hex\n                                            //   );\n                                            // }}\n                                            />\n                                        </Popover>\n                                    </span>\n                                </p>\n                            </section>\n                        </div>\n                    </SwitchCollapsable>\n                    <br />\n                    <SwitchCollapsable\n                        name=\"Override Label\"\n                        isOpen={this.state.labelOptionOpen}\n                        onToggle={() => {\n                            if (this.state.labelOptionOpen) {\n                                this.setState(\n                                    {\n                                        labelOptionOpen: false,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"label\",\n                                    //     null\n                                    //   )\n                                );\n                            } else {\n                                this.setState(\n                                    {\n                                        labelOptionOpen: true,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"label\",\n                                    //     State.graph.overrideConfig.label\n                                    //   )\n                                );\n                            }\n                        }}\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            Custom Label:\n                            <input\n                                value={\"test\"} //used for test\n                                // value={State.graph.overrideConfig.label}\n                                // onChange={it => {\n                                //   State.graph.overrideConfig.label = it.target.value;\n                                //   this.batchTwoLayerUpdate(\n                                //     State.graph.selectedNodes,\n                                //     \"label\",\n                                //     it.target.value\n                                //   );\n                                // }}\n                            />\n                        </div>\n                    </SwitchCollapsable>\n                    <br />\n                    <SwitchCollapsable\n                        name=\"Override Shape\"\n                        isOpen={this.state.shapeOptionOpen}\n                        onToggle={() => {\n                            if (this.state.shapeOptionOpen) {\n                                this.setState(\n                                    {\n                                        shapeOptionOpen: false,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"shape\",\n                                    //     null\n                                    //   )\n                                );\n                            } else {\n                                this.setState(\n                                    {\n                                        shapeOptionOpen: true,\n                                    }\n                                    // ,\n                                    // () =>\n                                    //   this.batchTwoLayerUpdate(\n                                    //     State.graph.selectedNodes,\n                                    //     \"shape\",\n                                    //     State.graph.overrideConfig.shape\n                                    //   )\n                                );\n                            }\n                        }}\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            <section>\n                                {\" \"}\n                                <p style={{ textAlign: \"left\" }}>\n                                    Node Shape:\n                                    <span style={{ float: \"right\" }}>\n                                        <Select\n                                            items={[\n                                                \"shape1\",\n                                                \"shape2\",\n                                                \"shape3\",\n                                                \"shape4\",\n                                                \"shape5\",\n                                            ]}\n                                            itemRenderer={CommonItemRenderer}\n                                            filterable={false}\n                                            onItemSelect={(it) => {\n                                                console.log(it); //used for test\n                                                // State.graph.overrideConfig.shape = it;\n                                                // this.batchTwoLayerUpdate(\n                                                //   State.graph.selectedNodes,\n                                                //   \"shape\",\n                                                //   it\n                                                // );\n                                            }}\n                                        >\n                                            {/* <Button text={State.graph.overrideConfig.shape} /> */}\n                                            <Button text={\"change\"} />\n                                            {/* upper is used for test */}\n                                        </Select>\n                                    </span>\n                                </p>\n                            </section>\n                        </div>\n                    </SwitchCollapsable>\n                </div>\n            );\n        }\n    }\n);\n// export default SelectionPanel;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport pluralize from \"pluralize\";\nimport State from \"../../state\";\nimport GlobalPanel from \"./GlobalPanel\";\nimport SelectionPanel from \"./SelectionPanel\";\n\nexport default observer(\n    class NodesPanel extends React.Component {\n        getRenderedNodes = () => {\n            if (State.graph.selectedNodes.length === 0) {\n                return (\n                    <div>\n                        <p>Modifying All Nodes</p>\n                    </div>\n                );\n            }\n            return (\n                <p>{`Modifying ${pluralize(\n                    \"Node\",\n                    State.graph.selectedNodes.length,\n                    true\n                )}`}</p>\n            );\n        };\n\n        render() {\n            return (\n                <div>\n                    {this.getRenderedNodes()}\n                    {State.graph.selectedNodes.length === 0 ? (\n                        <GlobalPanel />\n                    ) : (\n                        <SelectionPanel />\n                    )}\n                </div>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport {\n    Button,\n    Classes,\n    Popover,\n    PopoverInteractionKind,\n    Position,\n    Slider,\n} from \"@blueprintjs/core\";\nimport { SketchPicker } from \"react-color\";\nimport classnames from \"classnames\";\nimport Collapsable from \"../utils/Collapsable\";\n\nexport default observer(\n    class EdgesPanel extends React.Component {\n        state = {\n            sizeOptionOpen: false,\n            thicknessOptionOpen: false,\n            colorOptionOpen: false,\n            forceOptionOpen: false,\n        };\n\n        render() {\n            return (\n                <div>\n                    <p>{`Modifying All Edges`}</p>\n\n                    {/* Collapsable Option: Color */}\n                    <Collapsable\n                        name=\"Color\"\n                        isOpen={this.state.colorOptionOpen}\n                        onToggle={() =>\n                            this.setState({\n                                colorOptionOpen: !this.state.colorOptionOpen,\n                            })\n                        }\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Select Edge Color:\n                                    <span style={{ float: \"right\" }}>\n                                        <Popover\n                                            interactionKind={\n                                                PopoverInteractionKind.CLICK\n                                            }\n                                            popoverClassName=\"bp3-popover-content-sizing\"\n                                            position={Position.RIGHT}\n                                        >\n                                            <Button\n                                                text=\"  \"\n                                                style={{\n                                                    backgroundImage: \"inherit\",\n                                                    backgroundColor:\n                                                        State.css.config.edges\n                                                            .color,\n                                                }}\n                                            />\n                                            <div>\n                                                <SketchPicker\n                                                    color={\n                                                        State.css.config.edges\n                                                            .color\n                                                    }\n                                                    onChange={(it) => {\n                                                        // State.graph.process.graph.forEachNode(n => {\n\n                                                        //     let red = new THREE.Color(State.graph.edges.color).r;\n                                                        //     let blue = new THREE.Color(State.graph.edges.color).g;\n                                                        //     let green = new THREE.Color(State.graph.edges.color).b;\n                                                        //     n.renderData.linecolor.r = red;\n                                                        //     n.renderData.linecolor.g = blue;\n                                                        //     n.renderData.linecolor.b = green;\n                                                        // });\n\n                                                        State.css.config.edges.color =\n                                                            it.hex;\n                                                        console.log(it.hex);\n                                                        /**update edge color in real time*/\n                                                        // State.graph.process.onHover();\n                                                    }}\n                                                />\n                                            </div>\n                                        </Popover>\n                                    </span>\n                                </p>\n                            </section>\n                        </div>\n                    </Collapsable>\n\n                    <Collapsable\n                        name=\"Cluster force\"\n                        isOpen={this.state.forceOptionOpen}\n                        onToggle={() =>\n                            this.setState({\n                                forceOptionOpen: !this.state.forceOptionOpen,\n                            })\n                        }\n                    >\n                        <div className={classnames(Classes.CARD, \"sub-option\")}>\n                            <section>\n                                <p style={{ textAlign: \"left\" }}>\n                                    Toggle cluster :\n                                    <Slider\n                                        min={0}\n                                        max={100}\n                                        stepSize={10}\n                                        onChange={(value) => {\n                                            State.css.clusterForce = value;\n                                            State.graphDelegate.updateClusterForce(\n                                                value,\n                                                20\n                                            );\n                                        }}\n                                        value={State.css.clusterForce}\n                                        initialValue={20}\n                                    />\n                                </p>\n                            </section>\n                        </div>\n                    </Collapsable>\n\n                    {/* Collapsable Option: Thickness */}\n                    {/* <Collapsable\n                    name=\"Thickness\"\n                    isOpen={this.state.thicknessOptionOpen}\n                    onToggle={() =>\n                        this.setState({\n                            thicknessOptionOpen: !this.state.thicknessOptionOpen\n                        })\n                    }\n                    >\n                    <div className={classnames(Classes.CARD, \"sub-option\")}>\n                        <section>\n                            <p>Select Edge Thickness: </p>\n                            <div style={{display: \"inline\", float: \"right\"}}>\n\n                            </div>\n                        </section>\n                    </div>\n                </Collapsable> */}\n                </div>\n            );\n        }\n    }\n);\n// export default EdgesPanel;\n","import React from \"react\";\nimport { Button, Classes, Slider } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\n\nexport default observer(\n    class LabelsPanel extends React.Component {\n        render() {\n            return (\n                <div>\n                    <span style={{ display: \"inline-block\" }}>\n                        <Button\n                            style={{ width: \"100px\" }}\n                            id=\"hideAll\"\n                            icon=\"eye-off\"\n                            className={Classes.FILL}\n                            // onClick={() => State.graph.frame.hideAllLabels()}\n                        >\n                            Hide All\n                        </Button>\n                        <Button\n                            style={{ width: \"100px\", display: \"none\" }}\n                            id=\"showAll\"\n                            icon=\"eye-on\"\n                            className={Classes.FILL}\n                            // onClick={() => State.graph.frame.showAllLabels()}\n                        >\n                            Show All\n                        </Button>\n                        <Button\n                            style={{ width: \"140px\", marginLeft: \"10px\" }}\n                            id=\"hideSelected\"\n                            icon=\"eye-off\"\n                            className={Classes.FILL}\n                            // onClick={() =>\n                            //     State.graph.frame.hideSelectedLabels()\n                            // }\n                        >\n                            Hide Selected\n                        </Button>\n                        <Button\n                            style={{\n                                width: \"140px\",\n                                marginLeft: \"10px\",\n                                display: \"none\",\n                            }}\n                            id=\"showSelected\"\n                            icon=\"eye-on\"\n                            className={Classes.FILL}\n                            // onClick={() =>\n                            //     State.graph.frame.showSelectedLabels()\n                            // }\n                        >\n                            Show Selected\n                        </Button>\n                    </span>\n                    <div style={{ height: \"20px\" }} />\n                    <h6>Label Size</h6>\n                    <Slider\n                        min={0.5}\n                        max={3}\n                        stepSize={0.1}\n                        // onChange={value => {\n                        //   State.graph.nodes.labelSize = value;\n                        // }}\n                        // value={State.graph.nodes.labelSize}\n                        initialValue={2}\n                        value={2}\n                    />\n                    <div style={{ height: \"20px\" }} />\n                    <h6>Label Length</h6>\n                    <Slider\n                        min={1}\n                        max={32}\n                        stepSize={0.1}\n                        labelStepSize={5}\n                        // onChange={value => {\n                        //   State.graph.nodes.labelLength = value;\n                        // }}\n                        // value={State.graph.nodes.labelLength}\n                        value={10}\n                    />\n                    <div style={{ height: \"20px\" }} />\n                    <h6>Label By</h6>\n                    {/* <Select\n            items={State.graph.allPropertiesKeyList}\n            itemRenderer={CommonItemRenderer}\n            filterable={false}\n            onItemSelect={it => (State.graph.nodes.labelBy = it)}\n          >\n            <Button text={State.graph.nodes.labelBy} />\n          </Select> */}\n                </div>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Classes } from \"@blueprintjs/core\";\nimport { Cell, Column, EditableCell, Table } from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state/index\";\nimport ComponentRef from \"../ComponentRef\";\n\ninterface Props {\n    /**\n     * the node id of the select node\n     *\n     * @type {string}\n     * @memberof Props\n     */\n    onNode: string;\n}\n\nexport default observer(\n    class NodeDetail extends React.Component<Props, {}> {\n        cellRenderer_property = (rowIndex: number) => {\n            return <Cell>{State.graph.metadata.nodeProperties[rowIndex]}</Cell>;\n        };\n\n        cellRenderer_value = (rowIndex: number) => {\n            let data = State.graph.rawGraph.getNodeAttribute(\n                this.props.onNode,\n                State.graph.metadata.nodeProperties[rowIndex]\n            );\n            // return a Editable Cell where user can edit the value of certain property;\n            return (\n                <EditableCell\n                    value={data}\n                    onChange={(newVal) =>\n                        State.graph.rawGraph.setNodeAttribute(\n                            this.props.onNode,\n                            State.graph.metadata.nodeProperties[rowIndex],\n                            newVal\n                        )\n                    }\n                    onConfirm={(newVal) =>\n                        State.graph.rawGraph.setNodeAttribute(\n                            this.props.onNode,\n                            State.graph.metadata.nodeProperties[rowIndex],\n                            newVal\n                        )\n                    }\n                    tooltip={data}\n                />\n            );\n        };\n\n        formatLongFloat = (nodeAttributeValue: any) => {\n            const num = Number(nodeAttributeValue);\n            if (Number.isNaN(num) || num > 1 || num < 0) {\n                // Do not format just return original\n                return nodeAttributeValue;\n            }\n            // Format to no more than 3 significant digit.\n            return Number.parseFloat(num.toString()).toPrecision(3);\n        };\n\n        render() {\n            return (\n                <div\n                    className={classnames(\n                        \"right-overlay-card\",\n                        \"transparent-frame\"\n                    )}\n                >\n                    <div\n                        className={classnames(\n                            Classes.CARD,\n                            \"node-details-table\"\n                        )}\n                    >\n                        <Table\n                            numRows={State.graph.metadata.nodeProperties.length}\n                            enableRowHeader={false}\n                        >\n                            <Column\n                                name=\"Properties\"\n                                cellRenderer={this.cellRenderer_property}\n                            />\n                            <Column\n                                name=\"Value\"\n                                cellRenderer={this.cellRenderer_value}\n                            />\n                        </Table>\n                    </div>\n                </div>\n            );\n        }\n        componentDidMount = () => {\n            ComponentRef.nodeDetail = this;\n        };\n    }\n);\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Classes } from \"@blueprintjs/core\";\nimport { Cell, Column, Table } from \"@blueprintjs/table\";\nimport { observer } from \"mobx-react\";\nimport ComponentRef from \"../ComponentRef\";\nimport State from \"../../state/index\";\n\nexport default observer(\n    class MultipleNodeDetail extends React.Component {\n        render() {\n            return (\n                <div\n                    className={classnames(\n                        \"left-bottom-overlay-card\",\n                        \"transparent-frame\"\n                    )}\n                >\n                    <div\n                        className={classnames(\n                            Classes.CARD,\n                            \"nodes-details-table\"\n                        )}\n                    >\n                        <Table numRows={State.graph.selectedNodes.length}>\n                            {State.graph.metadata.nodeProperties.map((it) => (\n                                <Column\n                                    key={it}\n                                    name={it}\n                                    cellRenderer={(i) => (\n                                        <Cell>\n                                            {State.graph.rawGraph.getNodeAttribute(\n                                                State.graph.selectedNodes[\n                                                    i\n                                                ] as string,\n                                                it as string\n                                            )}\n                                        </Cell>\n                                    )}\n                                />\n                            ))}\n                        </Table>\n                    </div>\n                </div>\n            );\n        }\n        componentDidMount = () => {\n            ComponentRef.multiNodeDetail = this;\n        };\n    }\n);\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport State from \"../../state\";\nimport { InputGroup, Menu, MenuItem } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport { handleStringChange } from \"../utils/InputFormUtils\";\n\nexport default observer(\n    class SearchPanel extends React.Component {\n        renderSearchResults = () => {\n            return State.search.candidates.map((it) => {\n                return (\n                    <MenuItem\n                        text={it}\n                        onMouseOver={() => {\n                            State.search.isPreviewing = true;\n                            State.graph.currentlyHoveredId = it;\n                            State.graphDelegate.cameraFocusOn(it);\n                        }}\n                    />\n                );\n            });\n        };\n\n        render() {\n            return (\n                <div\n                    className={classnames(\n                        \"bottom-overlay-card\",\n                        \"transparent-frame\"\n                    )}\n                >\n                    <div className={classnames(\"search\")}>\n                        {State.search.candidates.length !== 0 && (\n                            <Menu\n                                large={true}\n                                className={classnames(\"search-menu\")}\n                                onMouseLeave={() => {\n                                    State.search.isPreviewing = false;\n                                }}\n                            >\n                                {this.renderSearchResults()}\n                            </Menu>\n                        )}\n                        <InputGroup\n                            asyncControl={true}\n                            large={true}\n                            leftIcon=\"search\"\n                            onChange={handleStringChange(\n                                (value) => (State.search.searchStr = value)\n                            )}\n                            placeholder=\"Search any Node...\"\n                            value={State.search.searchStr}\n                        />\n                    </div>\n                </div>\n            );\n        }\n    }\n);\n// export default EdgesPanel;\n","import React from \"react\";\nimport { Classes, Menu, MenuDivider, MenuItem } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport State from \"../../state\";\nimport { computed, makeObservable } from \"mobx\";\n\nexport default observer(\n    class RightClickNodePanel extends React.Component {\n        constructor(props: any) {\n            super(props);\n            makeObservable(this, {\n                stylePosition: computed,\n            });\n        }\n        get stylePosition() {\n            return {\n                top: State.preferences.rightClickPositionY + 10 + \"px\",\n                left: State.preferences.rightClickPositionX + 10 + \"px\",\n            };\n        }\n\n        render() {\n            return (\n                <Menu\n                    className={classnames(\n                        Classes.ELEVATION_1,\n                        \"right-click-panel\"\n                    )}\n                    style={this.stylePosition}\n                >\n                    <MenuItem icon=\"graph-remove\" text=\"Delete Node\" onClick={() =>{\n                        State.graph.mutating.dropNode(State.graph.currentlyHoveredId as string);\n                        State.preferences.rightClickNodePanelOpen = false;\n                    }}/>\n                    <MenuDivider />\n                    <MenuItem icon=\"new-link\" text=\"Add Edge\" />\n                    <MenuItem\n                        icon=\"cross\"\n                        text=\"Delete Edge\"\n                        onClick={() => {\n                            State.preferences.deleteEdgePanelOpen = true;\n                            State.preferences.rightClickNodePanelOpen = false;\n                        }}\n                    />\n                </Menu>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { Classes, Menu, MenuDivider, MenuItem } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport State from \"../../state\";\nimport { computed, makeObservable } from \"mobx\";\n\nexport default observer(\n    class RightClickBackgroundPanel extends React.Component {\n        constructor(props: any) {\n            super(props);\n            makeObservable(this, {\n                stylePosition: computed,\n            });\n        }\n        get stylePosition() {\n            return {\n                top: State.preferences.rightClickPositionY + 10 + \"px\",\n                left: State.preferences.rightClickPositionX + 10 + \"px\",\n            };\n        }\n\n        render() {\n            return (\n                <Menu\n                    className={classnames(\n                        Classes.ELEVATION_1,\n                        \"right-click-panel\"\n                    )}\n                    style={this.stylePosition}\n                >\n                    <MenuItem\n                        icon=\"new-object\"\n                        text=\"Add Node\"\n                        onClick={() => {\n                            State.preferences.AddNodeDialogOpen = true;\n                            State.preferences.rightClickBackgroundPanelOpen = false;\n                        }}\n                    />\n                    <MenuDivider />\n                </Menu>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { Alert, Button, Card, Code, Intent } from \"@blueprintjs/core\";\nimport { observer } from \"mobx-react\";\nimport classnames from \"classnames\";\nimport State from \"../../state\";\nimport {\n    Cell,\n    Column,\n    ICellRenderer,\n    RenderMode,\n    Table,\n} from \"@blueprintjs/table\";\nimport Graph from \"graphology\";\n\ninterface Props {\n    /**\n     * the node id of the select node to delete Edge\n     *\n     * @type {string}\n     * @memberof Props\n     */\n    onNode: string;\n}\n\nexport default observer(\n    class DeleteEdgeInteractionPanel extends React.Component<Props, {}> {\n        state = {\n            edgeToDelete: \"\",\n            deleteAlertOpen: false,\n        };\n\n        get neighbors(): string[] {\n            if (this.props.onNode === \"\") {\n                return [];\n            }\n            let neighbors: string[] = [];\n            State.graph.rawGraph.forEachNeighbor(\n                this.props.onNode,\n                (neighbor) => {\n                    neighbors.push(neighbor);\n                }\n            );\n            return neighbors;\n        }\n\n        deleteEdgeRenderer: ICellRenderer = (rowIndex) => {\n            let targetNode = this.neighbors[rowIndex];\n            let edgeKey = State.graph.rawGraph.edge(\n                this.props.onNode,\n                targetNode\n            );\n            return (\n                <Cell>\n                    <Button\n                        onClick={() => {\n                            this.setState({\n                                edgeToDelete: edgeKey as string,\n                                deleteAlertOpen: true,\n                            });\n                        }}\n                        icon=\"trash\"\n                        intent=\"danger\"\n                        text=\"Delete\"\n                        minimal={true}\n                    />\n                </Cell>\n            );\n        };\n\n        deleteEdgeAlert = () => {\n            if (this.state.edgeToDelete === \"\") {\n                return null;\n            }\n\n            let source, target;\n\n            try {\n                source = State.graph.rawGraph.source(this.state.edgeToDelete);\n                target = State.graph.rawGraph.target(this.state.edgeToDelete);\n            } catch (error) {\n                return null;\n            }\n            return (\n                <Alert\n                    cancelButtonText=\"Cancel\"\n                    confirmButtonText=\"Confirm Delete\"\n                    icon=\"trash\"\n                    intent={Intent.DANGER}\n                    isOpen={this.state.deleteAlertOpen}\n                    onCancel={() => this.setState({ deleteAlertOpen: false })}\n                    onConfirm={() => {\n                        State.graph.mutating.dropEdge(this.state.edgeToDelete);\n                        this.setState({ deleteAlertOpen: false });\n                    }}\n                >\n                    <p>\n                        Are you sure you want to delete the edge with ID{\" \"}\n                        <Code>{this.state.edgeToDelete}</Code> between Node ID{\" \"}\n                        <Code>{source}</Code> and Node ID <Code>{target}</Code>.\n                        This action cannot be reversed.\n                    </p>\n                </Alert>\n            );\n        };\n\n        neighborsRenderer: ICellRenderer = (rowIndex: number) => {\n            return (\n                <Cell interactive={true}>\n                    <div\n                        onClick={() => {\n                            State.graphDelegate.cameraFocusOn(\n                                this.props.onNode,\n                                400\n                            );\n                            State.graphDelegate.highlightLink = {\n                                source: this.props.onNode,\n                                target: this.neighbors[rowIndex],\n                            };\n                            State.graphDelegate.graphDelegateMethods.refresh(); // update color of selected edges\n                        }}\n                    >\n                        {this.neighbors[rowIndex]}\n                    </div>\n                </Cell>\n            );\n        };\n\n        render() {\n            return (\n                <div\n                    className={classnames(\n                        \"right-bottom-overlay-card\",\n                        \"transparent-frame\"\n                    )}\n                >\n                    <Card className={classnames(\"node-details-table\")}>\n                        <Button\n                            icon=\"cross\"\n                            onClick={() => {\n                                State.preferences.deleteEdgePanelOpen = false;\n                                State.graphDelegate.highlightLink = null;\n                                State.graphDelegate.graphDelegateMethods.refresh(); // update color of selected edges\n                            }}\n                        >\n                            Close\n                        </Button>\n                        <Table\n                            numRows={this.neighbors.length}\n                            defaultRowHeight={30}\n                            renderMode={RenderMode.NONE}\n                        >\n                            <Column\n                                name=\"\"\n                                cellRenderer={this.deleteEdgeRenderer}\n                                //@ts-ignore\n                                style={this.style}\n                            />\n                            <Column\n                                name=\"Node ID\"\n                                //@ts-ignore\n                                intent={Intent.PRIMARY}\n                                cellRenderer={this.neighborsRenderer}\n                            />\n                        </Table>\n                        {this.deleteEdgeAlert()}\n                    </Card>\n                </div>\n            );\n        }\n    }\n);\n","import React from \"react\";\nimport { Button, Classes, Tab, Tabs } from \"@blueprintjs/core\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport State from \"../state\";\nimport NodesPanel from \"./panels/NodesPanel\";\nimport EdgesPanel from \"./panels/EdgesPanel\";\nimport LabelsPanel from \"./panels/LabelsPanel\";\nimport NodeDetailPanel from \"./panels/NodeDetailPanel\";\nimport MultiDetailPanel from \"./panels/MultiDetailPanel\";\nimport SearchPanel from \"./panels/SearchPanel\";\nimport RightClickNodePanel from \"./panels/RightClickNodePanel\";\nimport RightClickBackgroundPanel from \"./panels/RightClickBackgroundPanel\";\nimport DeleteEdgeInteractionPanel from \"./panels/DeleteEdgeInteractionPanel\";\n\nlet RenderOptionsCard = observer(\n    class RenderOptionsCard extends React.Component {\n        render() {\n            return (\n                <div>\n                    <h2>Graph Options</h2>\n                    <Tabs animate={true}>\n                        <Tab id=\"nodes\" title=\"Nodes\" panel={<NodesPanel />} />\n                        <Tab id=\"edges\" title=\"Edges\" panel={<EdgesPanel />} />\n                        <Tab\n                            id=\"labels\"\n                            title=\"Labels\"\n                            panel={<LabelsPanel />}\n                        />\n                        {/* <Tab2 id=\"layout\" title=\"Layout\" panel={<LayoutPanel />} /> */}\n                        <Tabs.Expander />\n                    </Tabs>\n                </div>\n            );\n        }\n    }\n);\n//\n\nexport default observer(\n    class FloatingCards extends React.Component {\n        optionsVisible = {\n            left: \"0em\",\n        };\n        optionsInvisible = {\n            left: \"-2200em\",\n        };\n        sideButtonVis = {\n            marginLeft: \"50px\",\n        };\n        sideButtonInv = {\n            marginLeft: \"-15px\",\n        };\n        toggleOptions = () => {\n            State.preferences.isRenderOptionsCardHidden = !State.preferences\n                .isRenderOptionsCardHidden;\n        };\n        render() {\n            return (\n                <div className=\"floating-overlay\">\n                    <div className=\"left-cards\">\n                        <div\n                            className={classnames(\n                                Classes.CARD,\n                                Classes.ELEVATION_2,\n                                \"overlay-card\",\n                                \"left-overlay-card\",\n                                \"transparent-frame\",\n                                \"left-cards\"\n                            )}\n                            style={\n                                State.preferences.isRenderOptionsCardHidden\n                                    ? this.optionsInvisible\n                                    : this.optionsVisible\n                            }\n                        >\n                            <br />\n                            <Button\n                                className=\"openbtn2\"\n                                icon=\"chevron-left\"\n                                onClick={this.toggleOptions}\n                            />\n                            <br />\n                            <RenderOptionsCard />\n                        </div>\n                        <div\n                            className={classnames(\n                                Classes.CARD,\n                                Classes.ELEVATION_2,\n                                \"overlay-card\",\n                                \"transparent-frame\"\n                            )}\n                            style={{\n                                width: \"1em\",\n                                paddingTop: \"1em\",\n                                paddingRight: \"0.7em\",\n                                paddingBottom: \"0.5em\",\n                                marginLeft: \"-5.4em\",\n                            }}\n                        >\n                            <Button\n                                icon=\"more\"\n                                className=\"openbtn\"\n                                onClick={this.toggleOptions}\n                                style={\n                                    State.preferences.isRenderOptionsCardHidden\n                                        ? this.sideButtonVis\n                                        : this.sideButtonInv\n                                }\n                            />\n                        </div>\n                    </div>\n\n                    {/* single selected */}\n                    {/* {State.graph.selectedNodes.length === 1 && (\n                        <NodeDetail node={State.graph.currentlyHoveredId} />\n                    )} */}\n                    {State.graph.currentlyHoveredId &&\n                        State.graph.selectedNodes.length === 0 && (\n                            <NodeDetailPanel\n                                onNode={State.graph.currentlyHoveredId}\n                            />\n                        )}\n\n                    {/* multiple selected */}\n                    {/* {State.graph.selectedNodes.length !== 1 && State.graph.currentlyHovered && (\n                        <NodeDetail node={State.graph.currentlyHovered.data.ref} />\n                    )} */}\n                    {State.graph.selectedNodes.length !== 0 && (\n                        <MultiDetailPanel />\n                    )}\n\n                    <SearchPanel />\n                    {State.preferences.rightClickNodePanelOpen && (\n                        <RightClickNodePanel />\n                    )}\n\n                    {State.preferences.rightClickBackgroundPanelOpen && (\n                        <RightClickBackgroundPanel />\n                    )}\n                    {State.preferences.deleteEdgePanelOpen &&\n                        State.graph.selectedNode && (\n                            <DeleteEdgeInteractionPanel\n                                onNode={State.graph.selectedNode}\n                            />\n                        )}\n                </div>\n            );\n        }\n    }\n);\n\n// export default FloatingCards;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Classes } from \"@blueprintjs/core\";\nimport Navbar from \"./components/Navbar\";\nimport Dialogs from \"./components/Dialogs\";\nimport ThreeJSVis from \"./components/visualize/visualizer\";\n// import NodeDetail from \"./components/panels/NodeDetailPanel\";\n// import State from \"./state\";\n// import EdgesPanel from \"./components/panels/EdgesPanel\";\n// import LabelsPanel from \"./components/panels/LabelsPanel\";\n// import SelectionPanel from \"./components/panels/SelectionPanel\";\n// import GlobalPanel from \"./components/panels/GlobalPanel\";\n// import NodesPanel from \"./components/panels/NodesPanel\";\nimport FloatingCards from \"./components/FloatingCards\";\n\nfunction App() {\n    return (\n        <div\n            className={classnames({\n                \"app-wrapper\": true,\n                [Classes.DARK]: true,\n            })}\n        >\n            <Navbar />\n            <main className=\"main\">\n                <ThreeJSVis />\n            </main>\n            <FloatingCards />\n            <Dialogs />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import(\"web-vitals\").then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport \"@blueprintjs/table/lib/css/table.css\";\nimport \"@blueprintjs/select/lib/css/blueprint-select.css\";\nimport \"@blueprintjs/popover2/lib/css/blueprint-popover2.css\";\nimport \"normalize.css\";\nimport \"./App.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}